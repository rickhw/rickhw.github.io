<!DOCTYPE HTML>
<head>
  <meta charset="utf-8">
  
  <title>聊聊 API First 開發策略 | Complete Think</title>

  <meta name="author" content="Rick Hwang">
  <meta name="description" content="整理我個人這幾年來 (Since 2017) 接觸 API 有關的議題，共分成以下的大議題：

API 設計：重點在於滿足業務需求、控制範圍，包含資料模型、設計方法、流程與驗證
API 架構：API Gateway、快取、效能、通訊協議、監控 … 
API 治理與管理：版本控管、導入策略 (API ">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <!-- properties -->
  <meta property="og:title" content="聊聊 API First 開發策略"/>
  <meta property="og:site_name" content="Complete Think"/>
  <meta property="og:type"      content="website" />
  <meta property="og:url" content="https://rickhw.github.io/2025/03/08/Design/Gossip-API-First-Joureny/"/>
  <meta property="og:image" content="/images/Design/RESTful-API/ec2-restful-api_finite-state-machine_v20250308.png" />
  

  <!-- links -->
  <link rel="alternative" href="/atom.xml" title="Complete Think" type="application/atom+xml">
  <link href="/favicon.png" rel="icon">

  <link rel="stylesheet" href="/css/bootstrap.min.css" media="screen" type="text/css">
  <!--
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap-theme.min.css">
  -->
  <link rel="stylesheet" href="/css/font-awesome.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/highlight.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/google-fonts.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

  <script src="/js/jquery-2.0.3.min.js"></script>

  <!-- analytics -->
  
<!--
<script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'G-74Y1F3F5W0']);
    _gaq.push(['_trackPageview']);

    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'stats.g.doubleclick.net/dc.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
</script>
-->
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-74Y1F3F5W0"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-74Y1F3F5W0');
</script>



  <!-- Facebook SDK -->
  <!-- ref: https://developers.facebook.com/docs/plugins/like-button -->
  <!-- @rickd 2022/02/24
    <div id="fb-root"></div>
    <script async defer crossorigin="anonymous"
      src="https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v3.2&appId=1554905741423841&autoLogAppEvents=1"></script>
  -->
  <!-- @ricka 2022/02/24 -->
  <!-- ref: https://developers.facebook.com/docs/plugins/like-button -->
  <!--
  <div id="fb-root"></div>
  <script async defer crossorigin="anonymous"
    src="https://connect.facebook.net/zh_TW/sdk.js#xfbml=1&version=v13.0&appId=1554905741423841&autoLogAppEvents=1"
    nonce="bd9r2mJp"></script>
  -->

  <!-- @ricka 2022/09/06 -->
  <!-- ref: https://developers.facebook.com/docs/plugins/like-button -->
  <div id="fb-root"></div>
  <script async defer crossorigin="anonymous"
    src="https://connect.facebook.net/zh_TW/sdk.js#xfbml=1&version=v14.0&appId=1554905741423841&autoLogAppEvents=1"
    nonce="opf2Gext"></script>


<meta name="generator" content="Hexo 6.1.0"></head>


<body>

  
<nav id="main-nav" class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">
      <button type="button" class="navbar-header navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
		<span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
	  <a class="navbar-brand active" href="/">Complete Think</a>

      <div class="collapse navbar-collapse nav-menu">
		<ul class="nav navbar-nav">
		  	
		  		
					<li class='dropdown'>
						<a aria-expanded='false' class='dropdown-toggle' data-toggle='dropdown' href='#' role='button'><i class="fa fa-folder"></i>Categories <span class='caret'/></span></a>
		            	<ul class='dropdown-menu' role='menu'>
		            	
						<li><a href="/categories/AWS/">AWS <sup>82</sup></a></li>
						
						<li><a href="/categories/About/">About <sup>30</sup></a></li>
						
						<li><a href="/categories/Blog/">Blog <sup>5</sup></a></li>
						
						<li><a href="/categories/經營管理/Career/">Career <sup>6</sup></a></li>
						
						<li><a href="/categories/Coding/">Coding <sup>10</sup></a></li>
						
						<li><a href="/categories/Computer-Science/">Computer Science <sup>6</sup></a></li>
						
						<li><a href="/categories/Container/">Container <sup>9</sup></a></li>
						
						<li><a href="/categories/Data/">Data <sup>2</sup></a></li>
						
						<li><a href="/categories/DevOps/">DevOps <sup>43</sup></a></li>
						
						<li><a href="/categories/Distributed-Systems/">Distributed Systems <sup>20</sup></a></li>
						
						<li><a href="/categories/GCP/">GCP <sup>8</sup></a></li>
						
						<li><a href="/categories/Linux/">Linux <sup>9</sup></a></li>
						
						<li><a href="/categories/Misc/">Misc <sup>3</sup></a></li>
						
						<li><a href="/categories/OS-X/">OS X <sup>4</sup></a></li>
						
						<li><a href="/categories/Redmine/">Redmine <sup>6</sup></a></li>
						
						<li><a href="/categories/Reference/">Reference <sup>5</sup></a></li>
						
						<li><a href="/categories/DevOps/SRE/">SRE <sup>25</sup></a></li>
						
						<li><a href="/categories/Software-Engineering/">Software Engineering <sup>10</sup></a></li>
						
						<li><a href="/categories/System-Design/">System Design <sup>3</sup></a></li>
						
						<li><a href="/categories/經營管理/人才管理/">人才管理 <sup>11</sup></a></li>
						
						<li><a href="/categories/經營管理/溝通/">溝通 <sup>9</sup></a></li>
						
						<li><a href="/categories/經營管理/知識管理/">知識管理 <sup>4</sup></a></li>
						
						<li><a href="/categories/經營管理/">經營管理 <sup>62</sup></a></li>
						
						<li><a href="/categories/軟體測試/">軟體測試 <sup>14</sup></a></li>
						
						</ul>
					</li>
		  		
		  	
		  		
		  			<li><a href="/2016/10/01/AWS-Study-Roadmap/" title="AWS Study Notes."><i class="fa fa-cloud"></i>AWS</a></li>
		  		
		  	
		  		
		  			<li><a href="/categories/DevOps/" title="DevOps / SRE"><i class="fa fa-crosshairs"></i>DevOps</a></li>
		  		
		  	
		  		
		  			<li><a href="/2017/07/01/Index-Software-Engineering-In-Practice/" title="設計、開發、測試、維運"><i class="fa fa-cogs"></i>軟體工程</a></li>
		  		
		  	
		  		
		  			<li><a href="/2017/07/01/Index-Management/" title="經營、管理、領導、教練、產品"><i class="fa fa-users"></i>經營管理</a></li>
		  		
		  	
		  		
		  			<li><a href="/categories/Reference/" title="參考書、名詞對照表"><i class="fa fa-folder"></i>字典工具</a></li>
		  		
		  	
			</ul>

			<!-- @ricka: menu in right -->
			<ul class='nav navbar-nav navbar-right'>
				<li class='dropdown'>
					<a aria-expanded='false' class='dropdown-toggle' data-toggle='dropdown' href='#' role='button'><i class="fa fa-folder"></i>About<span class='caret'/></span></a>
					<ul class='dropdown-menu' role='menu'>
					
						<li><a href="/2017/12/29/About/About-This-Blog/" title="About this blog" target="_blank"> <i class="fa fa-sitemap"></i>關於這裡</a></li>
					
						<li><a href="/2017/12/29/About/About-Author/" title="" target="_blank"> <i class="fa fa-user"></i>關於作者</a></li>
					
						<li><a href="/2017/09/20/About/Learning-Approaches/" title="" target="_blank"> <i class="fa fa-book"></i>學習法則</a></li>
					
						<li><a href="https://www.gtcafe.com" title="GTCafe Studio" target="_blank"> <i class="fa fa-coffee"></i>GTCafe Studio</a></li>
					
						<li><a href="https://www.gtcafe.com/rickmidi/" title="喝咖啡 聊音樂 (v2021)" target="_blank"> <i class="fa fa-music"></i>喝咖啡 聊音樂 (v2021)</a></li>
					
					</ul>
				</li>
			</ul>
			<!-- @ricka end -->
      </div>
    </div> <!-- container -->
</nav>
<div class="clearfix"></div>

  <div class="container">
    <div class="content" style="background-color: white;">
       




	
		<!-- @rick, header of article -->
		<!-- original
		<div class="page-header">
			<h1> 聊聊 API First 開發策略</h1>
		</div>
		-->

		<div class="panel article_title">
			<div class="panel-heading">
    		<h1> 聊聊 API First 開發策略</h1>
  		</div>
		</div>

	



<div class="row post">
	<!-- cols -->
	
	<div class="col-md-9">
		

			

			<!-- content -->
			<div class="mypage">
				<!-- ref: https://developers.facebook.com/docs/plugins/like-button -->
				<!-- Facebook in front of page -->
				<!--
				<iframe
					src="https://www.facebook.com/plugins/like.php?href=https%3A%2F%2Frickhw.github.io%2F2025%2F03%2F08%2FDesign%2FGossip-API-First-Joureny%2F&width=450&layout=standard&action=like&size=small&show_faces=true&share=true&height=80&appId=1554905741423841"
					width="450" height="80"
					style="border:none;overflow:hidden"
					scrolling="no" frameborder="0"
					allowTransparency="true" allow="encrypted-media"></iframe>
				-->

				<!-- <div class="fb-like" data-href="https://rickhw.github.io/2025/03/08/Design/Gossip-API-First-Joureny/" data-layout="standard"
					data-action="like" data-size="small" data-show-faces="true" data-share="true"></div>-->

				<div class="fb-like" data-href="https://rickhw.github.io/2025/03/08/Design/Gossip-API-First-Joureny/" data-width="" data-layout="button_count"
					data-action="like" data-size="small" data-share="true"></div>

				<hr />

				<p>整理我個人這幾年來 (Since 2017) 接觸 API 有關的議題，共分成以下的大議題：</p>
<ol>
<li><code>API 設計</code>：重點在於滿足業務需求、控制範圍，包含資料模型、設計方法、流程與驗證</li>
<li><code>API 架構</code>：API Gateway、快取、效能、通訊協議、監控 … </li>
<li><code>API 治理與管理</code>：版本控管、導入策略 (API First &#x2F; Spec First &#x2F; Contract First)、上架政策、訂閱管理、問題排查</li>
<li><code>API 實作與模式</code>：包含常見的機制，像是 async、pagination、tracing、idempotence、batch、bulk … 等</li>
<li><code>API 軟體工程</code>：開發方法、測試方法、開發流程、跨團隊協作、文件</li>
</ol>
<p>以及寫在 <a target="_blank" rel="noopener" href="https://www.facebook.com/rick.kyhwang/posts/pfbid02GVzcRhLpYhtpX4NbK876vfbrB3ZAWXVniLgD7842zH4XRA3SwYKerwirYAC9jg7ml">FB</a> 的隨筆，包含 API 在當代軟體開發的重要性、設計方法論、實務經驗談，以及一些背後的思路。</p>
<span id="more"></span>

<hr>
<h1 id="一、API-的重要性"><a href="#一、API-的重要性" class="headerlink" title="一、API 的重要性"></a>一、API 的重要性</h1><p>為啥組織需要透過 API？</p>
<h2 id="AWS-的基因-標準通訊介面-API"><a href="#AWS-的基因-標準通訊介面-API" class="headerlink" title="AWS 的基因 - 標準通訊介面 API"></a>AWS 的基因 - 標準通訊介面 API</h2><p><a href="/2019/10/24/Management/Learning-From-Amazon/">從 Jeff Bezos 與 Werner Vogels 學到的</a> 整理了這段在 2002 年寫下非常有名的 Memo，如下：</p>
<p><code>Jeff Bezos’ Mandate: Amazon and Web Services</code></p>
<ol>
<li>All teams will henceforth expose their data and functionality through <strong>service interfaces</strong>.</li>
<li><strong>Teams must communicate with each other through these interfaces</strong>.</li>
<li>There will be no other form of interprocess communication allowed: no direct linking, no direct reads of another team’s data store, no shared-memory model, no back-doors whatsoever. <strong>The only communication allowed is via service interface calls over the network</strong>.</li>
<li>It doesn’t matter what technology they use. HTTP, Corba, Pubsub, custom protocols — doesn’t matter.</li>
<li>All service interfaces, without exception, <strong>must be designed from the ground up to be externalizable</strong>. That is to say, the team must plan and design to be able to expose the interface to developers in the outside world. No exceptions.</li>
<li>Anyone who doesn’t do this <strong>will be fired</strong>.</li>
</ol>
<p>第四點提到的其他協議，像是 Corba &#x2F; Custom Protocols，這些會隨時代逐漸退場的，其他在這世代是都適合用的，特別第六點。</p>
<p>Amazon 本業是電商，其中 IT 屬於支援部門，但卻誕生了最成功的公有雲 - AWS (Amazon Web Services)，而這段 Memo 被認為是 AWS 能成功的基因，</p>
<h2 id="MACH-Architecture"><a href="#MACH-Architecture" class="headerlink" title="MACH Architecture"></a>MACH Architecture</h2><p>MACH 架構表示這四個概念： <code>Microservices（微服務）</code>、<code>API first</code>、<code>Cloud-native</code>、<code>Headless (無頭式架構)</code>，是現代企業數位轉型中的軟體設計理念。</p>
<p>底下用 ChatGPT 整理：</p>
<ul>
<li>MACH 起源於對傳統單體式架構的反思，MACH 鼓勵系統以小型、獨立部署的模組建構，透過 API 溝通，並部署在雲端環境中，使前後端可分離（Headless），提升靈活性與擴展性。</li>
<li>MACH 聯盟（MACH Alliance）於 2020 年成立，成員包括 commercetools、Contentstack、Amplience、EPAM 等，致力推動開放、可替換、最佳化體驗的軟體生態。其理念與組織影響了電商、金融、媒體等領域，促使企業拋棄封閉式平台，轉向組合式架構（Composable Architecture）。</li>
</ul>
<p>然而實務上導入 MACH 並不容易，挑戰包含系統整合成本高、團隊技術門檻高、測試與部署複雜度提升等。因此適合已有一定規模、追求敏捷與差異化的企業，而非所有組織皆適用。整體而言，MACH 架構代表一種軟體現代化的方向，但需要與組織成熟度搭配落地。</p>
<h2 id="Kubernetes-isn’t-about-containers"><a href="#Kubernetes-isn’t-about-containers" class="headerlink" title="Kubernetes isn’t about containers"></a><a target="_blank" rel="noopener" href="https://blog.joshgav.com/posts/kubernetes-isnt-about-containers">Kubernetes isn’t about containers</a></h2><p>It’s about APIs; we’ll get to that shortly.</p>
<p>以下用 ChatGPT 摘要重點：</p>
<blockquote>
<p>Kubernetes 的價值不僅在於管理容器，而在於提供一套標準化的 API 框架，讓基礎設施能以軟體方式定義和操作。作者指出，雖然容器技術如 Docker 改變了應用部署方式，但 Kubernetes 的成功關鍵在於其統一的資源模型和控制器機制，使得不同類型的基礎設施資源（如計算、網路、儲存）能以一致的方式描述和管理。透過自訂資源定義（CRDs）和 Operator Framework，Kubernetes 的 API 被擴展到涵蓋資料庫、任務排程、訊息佇列等服務，形成一個可擴展的雲端服務標準。即使 Kubernetes 本身並非完美，其廣泛的採用和生態系統的成熟，使其成為現代雲端基礎設施的事實標準。 </p>
</blockquote>
<!--
## AI 有 MCP & A2A 就夠了？

這些概念嚴格講，都只是個包裝，技術上來講，本質都一樣，只要是系統對接，都一樣要有標準介面，所以 API 這個概念不會不見。

至於是否是 OpenAPI 這個規格，就很難說，因為這個規格相對複雜。

-->

<h2 id="小結"><a href="#小結" class="headerlink" title="小結"></a>小結</h2><p>如果組織想要：</p>
<ul>
<li>組織如果要發揮跨團隊整合</li>
<li>組織想要降低溝通成本</li>
<li>組織想找出效能不佳，可以改善的地方</li>
<li>產品從外界來看，是一個產品，而不是一盤散沙</li>
</ul>
<p>那麼整頓內部的 API 標準化與設計是必要的，而 API 的品質則會體現出上述的反面問題。</p>
<hr>
<h1 id="二、設計方法論"><a href="#二、設計方法論" class="headerlink" title="二、設計方法論"></a>二、設計方法論</h1><p>這裡指的是 RESTful API 的設計，不會涉及實作。</p>
<h2 id="貧血型模型，API-x3D-CRUD？"><a href="#貧血型模型，API-x3D-CRUD？" class="headerlink" title="貧血型模型，API &#x3D; CRUD？"></a>貧血型模型，API &#x3D; CRUD？</h2><p>API 開發經常會被很多鄉民這樣說：</p>
<blockquote>
<p>整天就是在 CRUD，每天上班都在懷疑人生</p>
</blockquote>
<p>一些 Backend 工程師整天會抱怨工作內容就是 CRUD，之所以會有這樣的連結、認知，這與資料庫操作方式密切相關。</p>
<p><code>CRUD</code> 是 Create &#x2F; Read &#x2F; Update &#x2F; Delete 的縮寫，通常針對一筆資料的操作 (Operate)，背後描述的是針對「資料的操作」。當開發者直覺地將資料表對應到一組 CRUD API，就會出現 <code>API = CRUD</code> 的認知，然後就會出現自我懷疑的狀況。</p>
<p>在此想先引用一個來自於 Martin Fowler 在 2003 年提出的概念：<a target="_blank" rel="noopener" href="https://martinfowler.com/bliki/AnemicDomainModel.html">貧血型模型 (Anemic Domain Model)</a>，文中提到大家在寫 Model 時，經常無腦的用 Getter &#x2F; Setter 來描述資料模型，卻缺乏透過模型的領域知識描述模型，像是領域特有的動作 &#x2F; 動詞。缺乏領域知識的模型就被稱為貧血型模型。而此描述的現象，跟用 CRUD 描述 API 有著一樣的現象，也就是只用 DB 操作 CRUD 來描述 API，因此我把這種只有 <code>CRUD API</code>，沒有領域概念的 API 稱為 <code>貧血型 API</code>。</p>
<p>實際上，優秀設計的 API 並不一定與資料表的操作一一對應。因為有些資源屬於 <code>聚合（Aggregation）</code>、有些是 <code>靜態資訊（如 Config、Version）</code>、有些則是狀態描述或操作指令，並無對應的資料落地。因此從設計角度出發，應先理解「資源」的本質，再決定是否與資料表做一對一對應，最終目的則是要設計出以領域知識為核心的操作與行為，使用者更容易理解、更能滿足業務需求的 API，這樣才不會陷入 CRUD 這種思路。</p>
<h2 id="以-Domain-為核心的設計出發點，以-AWS-EC2-Instance-為例"><a href="#以-Domain-為核心的設計出發點，以-AWS-EC2-Instance-為例" class="headerlink" title="以 Domain 為核心的設計出發點，以 AWS EC2 Instance 為例"></a>以 Domain 為核心的設計出發點，以 AWS EC2 Instance 為例</h2><p>當我們以 <code>Domain Knowledge</code> 作為設計基礎，每個資源（Resource）的操作會有其特有動詞，形成獨特的 API。舉例來說，AWS EC2 的 Instance 資源，一台 VM Instance 操作 包含以下動作 (動詞)：</p>
<blockquote>
<p>launch、start、stop、shutdown、reboot、terminate、change instance type … etc</p>
</blockquote>
<p>而一個 Instance 則會有以下的狀態移轉 (官方狀態圖)：</p>
<p><img src="/images/AWS/EC2/Instance_Lifecycle.png"></p>
<p>相關文章: <a href="/2016/07/09/AWS/EC2-Instance-Lifecycle-And-Troubleshooting/">EC2 Instance Lifecycle and Troubleshooting</a></p>
<p>這些 <code>狀態 (State)</code> 與 <code>動作 (Action)</code> 才是 EC2 Instance 的領域知識。</p>
<h2 id="使用狀態機描述的-RESTful-API-設計方法論"><a href="#使用狀態機描述的-RESTful-API-設計方法論" class="headerlink" title="使用狀態機描述的 RESTful API 設計方法論"></a>使用狀態機描述的 RESTful API 設計方法論</h2><p>用 AWS EC2 Instance 官方提供的 Lifecycle，透過 <code>狀態機 (Finite State Machine)</code> 重新分析過後得到以下狀態機：</p>
<p><img src="/images/Design/RESTful-API/ec2-state-machine_v20250308.png"></p>
<p>這張狀態機設計有幾個重點：</p>
<ol>
<li><code>狀態 (State)</code>:<ul>
<li>Instance 特有的領域用詞，這些狀態以 <code>名詞</code> 或者 <code>形容詞</code> 描述</li>
<li>圖中描述的狀態有 <code>固定狀態</code>, 以及 <code>過度狀態 (passing states)</code> 兩種。因為 Instance 操作本身是非同步的。</li>
<li>狀態機一定要有 <code>終止狀態 (End State)</code>，這個例子的結束是 <code>terminated</code></li>
<li>圖中灰底表示過度狀態，由系統控制</li>
</ul>
</li>
<li><code>領域行為 (Behaviro, 動詞)</code>:<ul>
<li>領域特定的行為，VM Instance 的行為就是前述提到的 launch、start、stop、shutdown、reboot、terminate … 等 <code>動詞</code></li>
<li><code>領域行為</code> 是使用者可以操作的動詞，用來觸發狀態之間的 <code>轉換 (Transition)</code></li>
<li>圖中可以表述的領域行為有 launch, start, stop, reboot, terminate … etc</li>
<li>本案例中的 <code>使用者</code> 預設是 end user of ec2，不包含 admin of ec2 instance</li>
</ul>
</li>
</ol>
<p>以此為原則，展開相對應的 API 設計，得到以下的設計藍圖：</p>
<p><img src="/images/Design/RESTful-API/ec2-restful-api_finite-state-machine_v20250308.png"></p>
<p>上圖中根據動作展開對應的 API，主要的有如下 (這不是全部)：</p>
<ul>
<li><code>POST /instances</code>: 建立 (launch) Instance</li>
<li><code>GET /instances/&#123;id&#125;</code>: 獲取 (retrieve) 指定的 Instance 資訊</li>
<li><code>DELETE /instances/&#123;id&#125;</code>: 刪除 (terminate) 指定的 Instance</li>
<li><code>PATCH /instances/&#123;id&#125;:start</code>: 啟動 (start) 指定的 Instance</li>
<li><code>PATCH /instances/&#123;id&#125;:stop</code> 關閉 (stop) 指定的 Instance</li>
<li><code>PATCH /instances/&#123;id&#125;:reboot</code> 重啟 (reboot) 指定的 Instance</li>
</ul>
<p>其中依據不同的實作技術，動作可能更多。</p>
<p>從這裡開始可以很明顯的感覺到，這已經不是 CRUD 概念的設計，而是以領域為核心的設計。其中在技術上使用了 <code>Standard Methods</code> 和 <code>Custom Methods</code> 這兩個概念。Standard Methods 表示 HTTP 幾個標準的 Methods，包含 GET &#x2F; POST &#x2F; PUT &#x2F; DELETE &#x2F; PATCH … 等，而 Custom Methods 則是透過 URI 的結構定義 CRUD 以外的 動詞，也就是圖中紫色底的動作。</p>
<blockquote>
<p>更多關於 Custom Methods 參閱我整理的簡報: API Design Patterns - <a target="_blank" rel="noopener" href="https://www.slideshare.net/slideshow/ch09-custom-methods/257455321">CH9: Custom Methods</a></p>
</blockquote>
<h2 id="狀態機：狀態控制"><a href="#狀態機：狀態控制" class="headerlink" title="狀態機：狀態控制"></a>狀態機：狀態控制</h2><p>上圖透過狀態移轉設計出來的 RESTful API 因為版面關係無法表述所有的狀，所以透過另一種方式來所有排列組合列出來。透過 <code>狀態轉移（State Transition)</code> 的排列組合列表，表列出所有有可能的動作，這張表稱為 <code>State Table</code> or <code>Transition Table</code>。</p>
<p>這張表明確描述狀態 <code>起點 (From)</code> 與 <code>目標 (To)</code>之間的可操作性，如果可以操作，那是什麼動作？這樣可以明確的表示有哪些行為組合，展開後如下圖：</p>
<p><img src="/images/Design/RESTful-API/ec2-restful-api_state-table_v20250308.png"></p>
<p>圖中 From &#x2F; To 的每個交集動作:</p>
<ul>
<li>如果是 ✅ 代表可以操作，如果是 ❌ 代表不可操作。</li>
<li>能否操作，則由領域知識專家決定</li>
<li>每個可以操作的動作，都是領域專有的動詞，用詞由領域知識決定</li>
</ul>
<p>使用狀態機設計要注意的地方如下：</p>
<ul>
<li>狀態用詞為 State，使用為 <code>名詞</code>、<code>形容詞</code>，是有 <code>數量限制</code>、有 <code>先後次序</code>。<ul>
<li>經驗上來看，狀態 10 個為上限，再上去會複雜到很難處理</li>
<li>狀態數量 (N) 則表示有 <code>(N+1) x N</code> 的狀態移轉要思考</li>
<li><code>非同步</code> 的系統，則會有 <code>過度狀態 (Passing State)</code></li>
</ul>
</li>
<li>狀態機要有明確的 <code>起始</code> 與 <code>終止狀態 (End State)</code></li>
<li>狀態與狀態之間的轉換稱為 <code>狀態移轉 (Transition)</code><ul>
<li><code>狀態移轉</code> 不是由使用者直接指定，而是由動作觸發，結果則由 <code>業務邏輯決定 (Business Flow)</code></li>
<li>狀態移轉則透過動作 (動詞) 觸發</li>
<li>狀態移轉的條件，由領域知識決定</li>
</ul>
</li>
<li>狀態之間的連線代表 <code>動詞</code>，背後影含著：<code>誰 (who)</code> 能做的 <code>動作 (action)</code>，以及產生的 <code>事件 (event)</code><ul>
<li><code>who</code>: 代表授權機制，通常是 <code>垂直權限</code>，可以類似於 AWS IAM 的 Role，可以是 OAuth2 的 scope</li>
<li><code>action</code>: 動詞，同一個狀態移轉，可以透過多個動作觸發</li>
<li><code>event</code>: 事件則表示非同步行為，像是計算成本、觸發其他的資源的行為</li>
</ul>
</li>
</ul>
<blockquote>
<p>State 與 Status 的差異：Status 沒有數量限制、沒有先後次序、也沒有起始、終止等狀態，像是 HTTP Status Code</p>
</blockquote>
<p>狀態機在實作上，可以透過 State Table 的方式控制，也可以利用既有的框架，像是 <a target="_blank" rel="noopener" href="https://spring.io/projects/spring-statemachine">Spring State Machine</a> 。</p>
<h2 id="Q-amp-A"><a href="#Q-amp-A" class="headerlink" title="Q&amp;A"></a>Q&amp;A</h2><p>Q: 狀態機不見得適合所有的 resource 吧？</p>
<blockquote>
<p>經驗上來看，大部分的資源分成幾種：resource-based, record-based, request-based。resource-based 就是本文中提到的 VM，他有個實際的資源佔用，而 API 本身的資料庫算是另一份副本，來控制狀態。第二種是 record-based，也就是純粹的資訊紀錄，像是電商常見的訂單。第三種則是重點在處理程序 (time-bound)，通常不會被長時間保留的，像是 push &#x2F; sms 這種東西。但實際上無論哪一種，實際上都還是有個狀態，會比較容易理解。</p>
</blockquote>
<p>Q: 這個方法並沒有提到 Data Model，這樣的設計是可行的？</p>
<blockquote>
<p>Data Model 也是設計很重要的一環，本文先以 API URI 定義開始，背後核心的概念就是: 好的 API 應該具備容易理解的特性，也就是還沒有看 Data Model 就大概知道可以做什麼。Data Model 有機會之後來分享設計的想法，但業界最好的範例就是 K8s 的 API.</p>
</blockquote>
<h2 id="小結-1"><a href="#小結-1" class="headerlink" title="小結"></a>小結</h2><p>當我們畫出資源的狀態機，並標示狀態轉移，即可初步知道要實作哪些 API，下一步就是透過產開 <code>Transition Table</code>，分析出所有可能組合，再用刪去法去除不合理或不必要的部分，留下即為必要實作的 API。透過此方式設計出的 API，既符合 RESTful 精神，也更容易理解與使用。反之，純以 CRUD 寫出的 API，往往缺乏 Domain 的思考，只是機械式的實作。而且範圍是模糊且不清楚的。</p>
<p>上述的設計方法論只是個基本摘要，但已經包含整個設計核心的論述與思路。重點如下:</p>
<ol>
<li>以資源為核心的領域知識, 類似於 ER Digram or Class Diagram 的概念</li>
<li>每個資源以狀態機為核心</li>
<li>RESTful API 透過狀態機展開</li>
</ol>
<p>整個設計背後的思路是：</p>
<blockquote>
<p>以使用者角度出發，使用者可以 <code>怎麼用</code>，而不是 API 的開發者 <code>怎麼做</code>。</p>
</blockquote>
<p>對使用者而言，就是拿到一個語意明白、意圖清晰、有限範圍，容易使用 API。反之，這樣的設計對於 API 開發者會考驗其真實的實作實力，例如 CQRS、State Machine 的控制等。</p>
<hr>
<h1 id="三、API-First-導入經驗談"><a href="#三、API-First-導入經驗談" class="headerlink" title="三、API First 導入經驗談"></a>三、API First 導入經驗談</h1><p>如同 MACH 架構提到的，實務上要導入 API First Approach 並不容易，會有方方面面的挑戰。底下摘要一些導入過程曾經遇到的問題：</p>
<ol>
<li>讓團隊意識到 OpenAPI 規格的重要性需花費不少時間。<ul>
<li>所有細節其實都寫在規格裡，但出現問題時大家往往不會先翻規格。</li>
<li>這與許多工程師不寫文件，卻抱怨別人系統沒有文件的現象如出一轍。</li>
</ul>
</li>
<li>API 規格可以反映設計者是否具備 OOAD &#x2F; DDD 的觀念。</li>
<li>優秀的 API 設計應具高度重用性與易用性，應視為「積木」；<ul>
<li>而商業流程應由 Application 層負責。</li>
<li>若 API 設計者將業務邏輯寫進 API 中，將導致耦合升高、重用困難。</li>
</ul>
</li>
<li>API 只要定義好 Swagger YAML，Client &#x2F; Server 便可同步開工。</li>
<li>OpenAPI v3.0 規格在大型系統開發上仍有不足之處<ul>
<li>例如缺乏模組化能力，<code>$ref</code> 的 YAML path 存在侷限，難以切分大型模組。</li>
</ul>
</li>
<li>雖然市面上有不少 OpenAPI 工具，但要找到真正適用、穩定的仍需耗費時間，整體缺乏標準化與生態系統整合。</li>
<li>API 必須與 Use Case 搭配才能完整理解。<ul>
<li>API 主要描述結構（空間），但無法說明行為（時間），兩者結合才是產品真正的使用情境。</li>
</ul>
</li>
<li>許多人認同 API First，但實際仍先寫程式，再反推生成 API Spec，因為這樣做比較容易、趕 Deadline 比較實際。</li>
<li>同理，使用他人 API 的開發者也常發生類似狀況。<ul>
<li>即使認同 API First，拿到 API Spec 後也常是看不懂，或拖到最後一天才看。</li>
</ul>
</li>
<li>API 設計過程本質上是一面「照妖鏡」，能照出團隊間的溝通問題。<ul>
<li>無論是設計者、使用者還是提供者，往往可從中看出問題根源，有些甚至是歷史遺留的政治問題，API First 本身無法解決。</li>
</ul>
</li>
<li>API Spec 就是產品規格文件，應是所有產品成員都看得懂的文件。<ul>
<li>但現實是，通常只有撰寫者看得懂，大多數團隊並不會實際撰寫 API Spec，也因此沒人真正了解產品具體規格。</li>
</ul>
</li>
<li>在沒有正式產品規格的情況下，API Spec 是最基本、最完整、也最具體的形式，甚至比各種簡報或文件更具參考價值。</li>
</ol>
<p>「規格」是能讓工程師開始動手做，並可透過驗證確認是否正確的文件。就如同 RFC 定義了 DNS、HTTP 的標準。產品規格，是讓團隊可以開發、讓用戶可以驗收的具體依據；而 API Spec 同時具備這兩者的特性，並成為開發者與用戶之間的關鍵橋梁。</p>
<hr>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><h2 id="設計方法論的發想背景"><a href="#設計方法論的發想背景" class="headerlink" title="設計方法論的發想背景"></a>設計方法論的發想背景</h2><p>這幾年實務設計 RESTful API，我習慣以「有限狀態機 (FSM)」的思維搭配 OOD 的 Class 設計進行 API 設計。其核心包含：資源、狀態、動作、角色。</p>
<p>2012 年左右，因緣際會下開始研究 <a href="/2015/01/06/Management/%E5%8D%94%E5%90%8C%E5%90%88%E4%BD%9C%E7%B3%BB%E7%B5%B1%E5%BB%BA%E5%88%B6%E8%88%87%E5%B0%8E%E5%85%A5-%E4%BB%A5-Redmine-%E7%82%BA%E4%BE%8B/">專案管理系統 (Project Management System)</a>，那時候接觸了要錢的 JIRA 以及不要錢的 Redmine，後來選擇不要錢的 Redmine。Redmine 的設計非常有彈性，撇除專案管理的功能，最核心的概念就是可以定義每種 Tracker Type 的狀態，以及透過狀態移轉方式控制流程，同時可以針對不同角色，設定不同流程的走向。當時我是負責整個團隊的軟體生命週期規劃，包含需求、設計、開發、測試、部署、維運等等，所以對於流程控制的需求非常強烈。Redmine 的這個設計概念讓我非常滿意，也因此開始研究 FSM 的概念。從 Feature、Bug、Deployment、Task 等等，每個 Tracker Type 都可以定義不同的狀態、狀態移轉的方式、哪個站點可以卡控 … 等。</p>
<p>這段設計過程，在團隊獲得應證，團隊跑的方式不是現在流行的 Scrum，而是自己定義的流程，每個人都知道自己的角色、責任，以及流程的走向。by the way，這概念也運用在管裡整個公司的 IT 資產管理、以及人事狀況，都是用 Redmine 來管理，但我只是把方法教給其他人，我只是在旁邊看著。後來也玩了像是 Azure DevOps (VSTS)，其實也都有一樣的概念在。</p>
<p>後來在 2017 年參與 API Gateway 架構設計與導入，在 Review 公司既有 API 時，我注意到 RESTful API 的設計，其實可以用 FSM 的概念來思考，只是針對已經「落地」的 API 就有點晚了。</p>
<p>2020 年因應公司的 API First 策略，執行 API Platform 的規劃，包含三大部分：</p>
<ol>
<li>API 設計方法論（Design Methodology）</li>
<li>API 架構設計（Architecture）</li>
<li>API 管理與治理（Management）</li>
</ol>
<p>Design Methodology 目的就是要找出一個設計方法，可以讓公司的 API 設計對標一些大型組織的設計，那時候跟同事一起研究 K8s API、GCP API、Shopify API、AWS API、GitHub API、Azure API … 等。這些 API 都有一個共通點，就是資源的狀態移轉，以及角色的權限控管。加上之前我使用 Redmine 等經驗，所以嘗試把 FSM 的概念帶入 RESTful 設計裡，搭配 OOD 的 Class Diagram 設計，這樣的設計方法論，可以讓 API 設計更有邏輯性，也更容易讓使用者理解。同時可以透過刪去法，減少不必要的 API，讓 API 的語意更清晰。</p>
<blockquote>
<p>更多設計的方法，也可以參閱 Andrew Blog 的文章：<a target="_blank" rel="noopener" href="https://columns.chicken-house.net/2022/10/26/apifirst/">API First 的開發策略</a>、<a target="_blank" rel="noopener" href="https://columns.chicken-house.net/2023/01/01/api-design-workshop/">API Design Workshop</a>、<a target="_blank" rel="noopener" href="https://columns.chicken-house.net/2022/04/25/microservices16-api-implement/">從狀態圖來驅動 API 的實作範例</a>，基本上跟上述概念是一樣的。</p>
</blockquote>
<p>API Architecture 的工作重點則是要規劃 API Gateway 以及內部系統通訊協議，有興趣可以看看 2018 我在 AWS Summit 分享的 <a href="/2018/07/18/About/20180718-API-Gateway/">邁向 API 經濟 - API Gateway 導入之旅</a>、<a href="/2018/01/24/DistributedSystems/Overview-API-Gateway/">AWS API Gateway 學習的系列文</a>、<a target="_blank" rel="noopener" href="https://www.slideshare.net/rickhwang/study-notes-using-an-api-gateway">Study Notes - Using an API Gateway</a>。</p>
<p>API Management 則是要規劃 API 的生命週期管理，包含 API 設計、API 開發、API 測試、API 上線、API 監控、API 退市等等。這部分也是大坑，有空再來寫 XDD  </p>
<p>過程中，啃了不少書，有三本推薦的:</p>
<ol>
<li><a target="_blank" rel="noopener" href="https://www.tenlong.com.tw/products/9781617295850">API Design Patterns</a>  <ul>
<li>延伸閱讀：<a target="_blank" rel="noopener" href="https://google.aip.dev/">https://google.aip.dev</a> - 作者在 Google 寫的</li>
</ul>
</li>
<li><a target="_blank" rel="noopener" href="https://www.tenlong.com.tw/products/9786263243224">Continuous API Management</a></li>
<li><a target="_blank" rel="noopener" href="https://www.tenlong.com.tw/products/9781492090632">Mastering API Architecture</a></li>
</ol>
<p>而執行面則展開以下兩大部分：</p>
<ol>
<li><code>API 實作與模式</code>：包含常見的機制，像是 async、pagination、idempotence、batch、bulk … 等</li>
<li><code>API 軟體工程</code>：開發方法、測試方法、開發流程、跨團隊協作</li>
</ol>
<hr>
<h1 id="延伸閱讀"><a href="#延伸閱讀" class="headerlink" title="延伸閱讀"></a>延伸閱讀</h1><h2 id="相關文章"><a href="#相關文章" class="headerlink" title="相關文章"></a>相關文章</h2><ul>
<li><a href="/2019/10/24/Management/Learning-From-Amazon/">從 Jeff Bezos 與 Werner Vogels 學到的</a></li>
<li>API Design Patterns: <a target="_blank" rel="noopener" href="https://www.slideshare.net/slideshow/ch09-custom-methods/257455321">Custom Methods</a></li>
<li><a href="/2023/06/24/DistributedSystems/API-First_Communication-Protocol/">API 設計 - 摘要 API 通訊模式與協議</a></li>
<li><a href="/2023/07/02/DistributedSystems/API-First_Integration-Matrix/">API 設計 - API 整合矩陣</a></li>
<li><a target="_blank" rel="noopener" href="https://www.threads.net/@rick.kyhwang/post/DGjXMqkTU-b">API First Approach 導入的實際問題</a>, <a target="_blank" rel="noopener" href="https://www.facebook.com/rick.kyhwang/posts/pfbid02GVzcRhLpYhtpX4NbK876vfbrB3ZAWXVniLgD7842zH4XRA3SwYKerwirYAC9jg7ml">FB</a></li>
<li><a href="/2018/07/18/About/20180718-API-Gateway/">邁向 API 經濟 - API Gateway 導入之旅</a></li>
<li><a target="_blank" rel="noopener" href="https://www.slideshare.net/rickhwang/study-notes-using-an-api-gateway">Study Notes - Using an API Gateway</a></li>
</ul>
<h2 id="發想"><a href="#發想" class="headerlink" title="發想"></a>發想</h2><ul>
<li><a href="/2015/01/06/Management/%E5%8D%94%E5%90%8C%E5%90%88%E4%BD%9C%E7%B3%BB%E7%B5%B1%E5%BB%BA%E5%88%B6%E8%88%87%E5%B0%8E%E5%85%A5-%E4%BB%A5-Redmine-%E7%82%BA%E4%BE%8B/">協同合作系統建制與導入 - 以 Redmine 為例</a></li>
<li><a href="/2019/05/21/AWS/Study-Notes-Step-Functions/">Study Notes - Step Functions</a></li>
<li><a href="/2017/08/19/Redmine/Issue-Tracking_in_Redmine/">Issue Tracking in Redmine</a></li>
</ul>
<h2 id="推薦閱讀"><a href="#推薦閱讀" class="headerlink" title="推薦閱讀"></a>推薦閱讀</h2><ul>
<li>Andrew 的文章<ul>
<li><a target="_blank" rel="noopener" href="https://columns.chicken-house.net/2022/10/26/apifirst/">架構師觀點 - API First 的開發策略</a></li>
<li><a target="_blank" rel="noopener" href="https://columns.chicken-house.net/2023/01/01/api-design-workshop/">架構師觀點 - API Design Workshop</a></li>
<li><a target="_blank" rel="noopener" href="https://columns.chicken-house.net/2022/04/25/microservices16-api-implement/">微服務架構 - 從狀態圖來驅動 API 的實作範例</a></li>
</ul>
</li>
<li>相關書籍：<ul>
<li><a target="_blank" rel="noopener" href="https://www.tenlong.com.tw/products/9781617295850">API Design Patterns</a>, <a target="_blank" rel="noopener" href="https://google.aip.dev/">https://google.aip.dev</a> - 作者在 Google 寫的</li>
<li><a target="_blank" rel="noopener" href="https://www.tenlong.com.tw/products/9786263243224">Continuous API Management</a></li>
<li><a target="_blank" rel="noopener" href="https://www.tenlong.com.tw/products/9781492090632">Mastering API Architecture</a></li>
</ul>
</li>
<li><a target="_blank" rel="noopener" href="https://martinfowler.com/bliki/AnemicDomainModel.html">Anemic Domain Model</a> - Martin Fowler</li>
<li><a target="_blank" rel="noopener" href="https://blog.joshgav.com/posts/kubernetes-isnt-about-containers">Kubernetes isn’t about containers, It’s about APIs; we’ll get to that shortly.</a> - Josh Gavant</li>
<li><a target="_blank" rel="noopener" href="https://machalliance.org/mach-technology">MACH Technology Explained</a></li>
</ul>


				<hr />

				<!-- Facebook in bend of page -->
				<div class="fb-like" data-href="https://rickhw.github.io/2025/03/08/Design/Gossip-API-First-Joureny/" data-width="" data-layout="button_count"
					data-action="like" data-size="small" data-share="true"></div>

				<hr />

				<!-- LikeCoin -->
				<!-- @rickd 2022/09/06 -->
				<!--
				<iframe data-v-b66e9a5a=""
					src="https://button.like.co/in/embed/rick_kyhwang/button?referrer=https://rickhw.github.io/2025/03/08/Design/Gossip-API-First-Joureny/"
					frameborder="0" class="lc-margin-top-64 lc-margin-bottom-32 lc-mobile">
				</iframe>
				<br />
				-->

				<div>
					<center>
						
<div class="pagination">
<ul class="pagination">
	 
				
    	<li class="prev"><a href="/2025/06/29/Design/R3-Model/" class="alignleft prev"><i class="fa fa-arrow-circle-o-left"></i>Prev</a></li>
  		

        <li><a href="/categories"><i class="fa fa-archive"></i>Archive</a></li>

		
		   <li class="next"><a href="/2025/02/02/Coding/Development-Machine/" class="alignright next">Next<i class="fa fa-arrow-circle-o-right"></i></a></li>         
        
	
</ul>
</div>

					</center>
				</div>


				<!-- comment -->
				
<section id="comment">
  <h2 class="title">Comments</h2>

	<!-- @rick add for facebook -->
	<!-- <div class='fb-comments' data-num-posts='10' data-width='100%' expr:href='data:post.url'/> -->
  <!-- @ricka 2022/09/06, ref: https://developers.facebook.com/docs/plugins/comments/ -->
  <div class="fb-comments" data-order-by="reverse-time" data-href="https://rickhw.github.io/2025/03/08/Design/Gossip-API-First-Joureny/" data-width="100%" data-numposts="10"></div>

  


</section>






			</div>



		</div> <!-- col-md-9/col-md-12 -->

		
		<!-- meta in right -->
		<div class="col-md-3">

	<!-- date -->
	
	<div class="meta-widget">
		<i class="fa fa-clock-o"></i>
		2025/03/08 13:30:00
	</div>
	

	<hr />

	<!-- toc -->
	<div class="meta-widget">
	
	   <a data-toggle="collapse" data-target="#toc"><i class="fa fa-bars"></i> Table of Content</a>
	   <div id="toc" class="toc collapse in">
				<ol class="toc-article"><li class="toc-article-item toc-article-level-1"><a class="toc-article-link" href="#%E4%B8%80%E3%80%81API-%E7%9A%84%E9%87%8D%E8%A6%81%E6%80%A7"><span class="toc-article-text">一、API 的重要性</span></a><ol class="toc-article-child"><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#AWS-%E7%9A%84%E5%9F%BA%E5%9B%A0-%E6%A8%99%E6%BA%96%E9%80%9A%E8%A8%8A%E4%BB%8B%E9%9D%A2-API"><span class="toc-article-text">AWS 的基因 - 標準通訊介面 API</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#MACH-Architecture"><span class="toc-article-text">MACH Architecture</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#Kubernetes-isn%E2%80%99t-about-containers"><span class="toc-article-text">Kubernetes isn’t about containers</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#%E5%B0%8F%E7%B5%90"><span class="toc-article-text">小結</span></a></li></ol></li><li class="toc-article-item toc-article-level-1"><a class="toc-article-link" href="#%E4%BA%8C%E3%80%81%E8%A8%AD%E8%A8%88%E6%96%B9%E6%B3%95%E8%AB%96"><span class="toc-article-text">二、設計方法論</span></a><ol class="toc-article-child"><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#%E8%B2%A7%E8%A1%80%E5%9E%8B%E6%A8%A1%E5%9E%8B%EF%BC%8CAPI-x3D-CRUD%EF%BC%9F"><span class="toc-article-text">貧血型模型，API &#x3D; CRUD？</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#%E4%BB%A5-Domain-%E7%82%BA%E6%A0%B8%E5%BF%83%E7%9A%84%E8%A8%AD%E8%A8%88%E5%87%BA%E7%99%BC%E9%BB%9E%EF%BC%8C%E4%BB%A5-AWS-EC2-Instance-%E7%82%BA%E4%BE%8B"><span class="toc-article-text">以 Domain 為核心的設計出發點，以 AWS EC2 Instance 為例</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#%E4%BD%BF%E7%94%A8%E7%8B%80%E6%85%8B%E6%A9%9F%E6%8F%8F%E8%BF%B0%E7%9A%84-RESTful-API-%E8%A8%AD%E8%A8%88%E6%96%B9%E6%B3%95%E8%AB%96"><span class="toc-article-text">使用狀態機描述的 RESTful API 設計方法論</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#%E7%8B%80%E6%85%8B%E6%A9%9F%EF%BC%9A%E7%8B%80%E6%85%8B%E6%8E%A7%E5%88%B6"><span class="toc-article-text">狀態機：狀態控制</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#Q-amp-A"><span class="toc-article-text">Q&amp;A</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#%E5%B0%8F%E7%B5%90-1"><span class="toc-article-text">小結</span></a></li></ol></li><li class="toc-article-item toc-article-level-1"><a class="toc-article-link" href="#%E4%B8%89%E3%80%81API-First-%E5%B0%8E%E5%85%A5%E7%B6%93%E9%A9%97%E8%AB%87"><span class="toc-article-text">三、API First 導入經驗談</span></a></li><li class="toc-article-item toc-article-level-1"><a class="toc-article-link" href="#%E7%B5%90%E8%AB%96"><span class="toc-article-text">結論</span></a><ol class="toc-article-child"><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#%E8%A8%AD%E8%A8%88%E6%96%B9%E6%B3%95%E8%AB%96%E7%9A%84%E7%99%BC%E6%83%B3%E8%83%8C%E6%99%AF"><span class="toc-article-text">設計方法論的發想背景</span></a></li></ol></li><li class="toc-article-item toc-article-level-1"><a class="toc-article-link" href="#%E5%BB%B6%E4%BC%B8%E9%96%B1%E8%AE%80"><span class="toc-article-text">延伸閱讀</span></a><ol class="toc-article-child"><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#%E7%9B%B8%E9%97%9C%E6%96%87%E7%AB%A0"><span class="toc-article-text">相關文章</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#%E7%99%BC%E6%83%B3"><span class="toc-article-text">發想</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#%E6%8E%A8%E8%96%A6%E9%96%B1%E8%AE%80"><span class="toc-article-text">推薦閱讀</span></a></li></ol></li></ol>
		</div>
	
	</div>

	<hr />

	<!-- categories -->
  
	<div class="meta-widget">
		<a data-toggle="collapse" data-target="#categorys"><i class="fa fa-folder"></i> Categories</a>
    <!--<ul id="categorys" class="tag_box list-unstyled collapse in">-->
      <div>
  <!--<li>-->
    <span class="label label-info"><a href="/categories/System-Design/" style="color: white">System Design <span class="badge">3</span></a></span>
  <!--</li>-->
</div>
    <!--</ul>-->
	</div>
	

	<hr />

	<!-- tags -->
	
	<div class="meta-widget">
		<a data-toggle="collapse" data-target="#tags"><i class="fa fa-tags"> Tags</i></a>
    <!--<ul id="tags" class="tag_box list-unstyled collapse in">-->
    <div>
	  	
  <span class="label label-success"><a href="/tags/API-Gateway/" style="color: white">API Gateway <span class="badge">18</span></a></span> <span class="label label-success"><a href="/tags/Finite-State-Machine/" style="color: white">Finite-State Machine <span class="badge">4</span></a></span> <span class="label label-success"><a href="/tags/API-First/" style="color: white">API First <span class="badge">5</span></a></span> <span class="label label-success"><a href="/tags/RESTful/" style="color: white">RESTful <span class="badge">2</span></a></span> <span class="label label-success"><a href="/tags/API/" style="color: white">API <span class="badge">2</span></a></span> <span class="label label-success"><a href="/tags/API-Design/" style="color: white">API Design <span class="badge">5</span></a></span> <span class="label label-success"><a href="/tags/API-Platform/" style="color: white">API Platform <span class="badge">3</span></a></span> <span class="label label-success"><a href="/tags/API-Architecture/" style="color: white">API Architecture <span class="badge">1</span></a></span> <span class="label label-success"><a href="/tags/API-Management/" style="color: white">API Management <span class="badge">2</span></a></span> <span class="label label-success"><a href="/tags/Headless/" style="color: white">Headless <span class="badge">1</span></a></span>
	  </div>
    <!--</ul>-->
	</div>
	


  <hr />

	<div class="meta-widget">
		<!-- v4 -->
		<h4>About</h4>
		
			<li><a href="/2035/01/21/Index/">全站索引</a></li>
		
			<li><a href="/2017/12/29/About/About-This-Blog/">關於這裏</a></li>
		
			<li><a href="/2017/12/29/About/About-Author/">關於作者</a></li>
		
			<li><a href="/2017/09/20/About/Learning-Approaches/">學習法則</a></li>
		
			<li><a href="/2017/11/26/Thinking-in-Essence/">思考本質</a></li>
		
			<li><a href="/2017/12/02/About/Epiphany/">一些領悟</a></li>
		
			<li><a href="/2014/10/26/Management/Classified-Philosophy/">分類哲學</a></li>
		

		<h4>著作</h4>
		
			<li><a target="_blank" rel="noopener" href="https://www.tenlong.com.tw/products/9786264142335">共同著作：軟體品質全面思維 (2025)</a></li>
		
			<li><a href="/2023/07/17/About/2023-SRE-Practice-and-IDP/">個人著作：SRE實踐與開發平台指南</a></li>
		
			<li><a href="/2023/05/23/About/2023-Software-Test-Practice/">共同著作：軟體測試實務 (2023)</a></li>
		
			<li><a href="/2019/05/17/About/DDS-zh_TW/">譯著：分散式系統設計 (2019)</a></li>
		

		<h4>演講</h4>
		
			<li><a target="_blank" rel="noopener" href="https://www.youtube.com/playlist?list=PL63J1r2PBvoiKFC40HTdSrGSQVBqOutOf">演講錄影 @ Youtube</a></li>
		
			<li><a href="/2023/09/09/About/2023-AWS-Career-Exploration-Day/">探索職涯、複利人生 - AWS Career Exploration Day 2023</a></li>
		
			<li><a href="/2023/07/17/About/2023-SRE-Practice-and-IDP/">個人著作 SRE 書友見面會</a></li>
		
			<li><a href="/2023/05/23/About/2023-Software-Test-Practice/">軟體測試實務 - 新書發表會</a></li>
		
			<li><a href="/2022/12/21/About/2022-AWS-Career-Exploration-Day/">探索職涯、成就未來 - AWS Career Exploration Day 2022</a></li>
		
			<li><a href="/2022/08/13/SQA/Path-to-Software-Testing/">從理想、到現實的距離，開啟品味軟體測試之路</a></li>
		
			<li><a href="/2022/05/10/About/2022-SREConf2022/">91APP 在 AWS 上的 SRE 實踐之路</a></li>
		
			<li><a target="_blank" rel="noopener" href="https://www.slideshare.net/rickhwang/2020-aws-summit-aws">在矩陣型組織裡，如何有效管理 AWS 的成本結構與系統架構</a></li>
		
			<li><a target="_blank" rel="noopener" href="https://www.slideshare.net/rickhwang/aws-using-aws-for-disaster-recovery/">災難演練 @ AWS 實戰分享</a></li>
		
			<li><a href="/2019/04/27/DevOps/Introduce-to-Continuous-Delivery-2/">導讀持續交付 2.0 - 談當代軟體交付之虛實融合</a></li>
		
			<li><a href="/2019/03/28/DevOps/DevOpsTaiwan-Meetup-Beginning-in-Artifacts-Management/">聊聊軟體交付的濫觴 談產出物管理</a></li>
		
			<li><a href="/2018/09/12/DevOps/DevOpsDaysTaipei2018-Emergency-And-Incident-Management/">從緊急事件 談 SRE 應變能力的培養</a></li>
		
			<li><a href="/2018/07/18/About/20180718-API-Gateway/">邁向 API 經濟 - API Gateway 導入之旅</a></li>
		
			<li><a href="/2018/05/26/About/201805-Monitoring-Tools-CloudWatch/">Monitoring Tools 大亂鬥 - AWS CloudWatch</a></li>
		
			<li><a href="/2018/03/29/About/2018-Serverless-All-Star/">Ops as Code using Serverless</a></li>
		
			<li><a href="/2017/06/21/AWS/Stategies-System-Monitor_and_CloudWatch/">淺談系統監控與 CloudWatch 的應用</a></li>
		

		<!-- v3 -->
		<!--
		<li><a href="/2018/07/08/Index/">部落格索引</a></li>
		<li><a href="/2017/12/29/About/About-This-Blog/">關於這個部落格</a></li>
		<li><a href="/2017/12/29/About/About-Author/">關於作者</a></li>
		<li><a href="/2017/09/20/About/Learning-Approaches/">學習法則</a></li>
		<li><a href="/2014/12/27/Management/經營之道/">經營之道</a></li>
		<li><a href="/2017/12/02/About/Epiphany/">一些領悟</a></li>
		-->

		<!-- v2 -->
		<!-- <a href="/2017/07/01/Management/Developer-or-Engineer/">軟體開發者 (Software Developer)</a>、<a target="_blank" rel="noopener" href="http://rickmidi.blogspot.com/">音樂愛好者</a>，工作角色經歷 DevOps 三個圈圈職務: Dev / <a href="/categories/軟體測試/">QA</a> / <a href="/categories/DevOps/">Ops</a>。這幾年專注在經營管理、<a href="/2016/10/01/AWS-Study-Roadmap/">AWS</a> / GCP、分散式架構、<a href="/categories/DevOps/">維運、DevOps / SRE</a> 等領域，並活躍於各大社群的活動、演講，著有技術部落格：<a href="https://rickhw.github.io/">Complete Think</a>。工作之外也是業餘音樂愛好者，專注在 吉他、鍵盤、編曲、教學，著有音樂部落格：<a target="_blank" rel="noopener" href="https://rickmidi.blogspot.com/">喝咖啡聊音樂</a>。 -->

		<!-- v1 -->
		<!--
		<li>Software Developer</li>
		<li><a href="/categories/軟體測試/">SQA Manager</a></li>
		<li><a href="/categories/DevOps/">Operation Manager</a></li>
		<li><a target="_blank" rel="noopener" href="http://rickmidi.blogspot.com/">Musician and Guitarist</a></li>
		<li>
			<ol>
				<li>Management</li>
				<li>Cloud / Distributed Systems</li>
				<li>DevOps / SRE / </li>
			</ol>
		</li>
		-->

		<!--
		<h4>Donate</h4>
		<form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
		<input type="hidden" name="cmd" value="_s-xclick" />
		<input type="hidden" name="hosted_button_id" value="UUMSV7TXWT2AJ" />
		<input type="image" src="https://www.paypalobjects.com/en_US/TW/i/btn/btn_donateCC_LG.gif" border="0" name="submit" title="PayPal - The safer, easier way to pay online!" alt="Donate with PayPal button" />
		<img alt="" border="0" src="https://www.paypal.com/en_TW/i/scr/pixel.gif" width="1" height="1" />
		</form>
		-->

		<h4>Facebook</h4>

		<div class="fb-page" data-href="https://www.facebook.com/completethink/" data-tabs="timeline" data-small-header="false" data-adapt-container-width="true" data-hide-cover="false" data-show-facepile="true"><blockquote cite="https://www.facebook.com/completethink/" class="fb-xfbml-parse-ignore"><a target="_blank" rel="noopener" href="https://www.facebook.com/completethink/">Complete Think</a></blockquote></div>

		<a target="_blank" rel="noopener" href="https://aws.amazon.com/developer/community/heroes/rick-hwang/"><img
				src="/images/About/AWS-Hero/community-heroes_logo.png"></a>

		<h4>AWS Certifications</h4>
		<a href="/2016/04/22/AWS/AWS-Certified-Solutions-Architect_Associate/"><img src="/images/About/Solutions_Architect-Associate.jpg"></a>
		<a href="/2016/07/29/AWS/AWS-Certified-SysOps-Administrator/"><img src="/images/About/SysOps-Administrator-Associate.png"></a>
		<a href="/2016/08/20/AWS/AWS-Certified-Developer/"><img src="/images/About/Developer-Associate.png"></a>
	</div>

	<hr />
</div><!-- col-md-3 -->

		

	</div><!-- row -->


    </div>
  </div>


<div class="container-narrow">
    <footer> <p>
  &copy; 2015-2022 Rick Hwang
  
      with help from <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="http://getbootstrap.com/" target="_blank">Twitter Bootstrap</a>. Theme base on <a target="_blank" rel="noopener" href="http://github.com/wzpan/hexo-theme-freemind/">Freemind</a>.
</p> </footer>
</div>

<!-- container-narrow -->

<div id="gotop">

  <!-- 
    <i class="fa fa-sitemap"></i> <a href="/2017/12/29/About/About-This-Blog/" title="About this blog" target="_blank"]);">關於這裡</a><br />
  
    <i class="fa fa-user"></i> <a href="/2017/12/29/About/About-Author/" title="" target="_blank"]);">關於作者</a><br />
  
    <i class="fa fa-book"></i> <a href="/2017/09/20/About/Learning-Approaches/" title="" target="_blank"]);">學習法則</a><br />
  
    <i class="fa fa-coffee"></i> <a href="https://www.gtcafe.com" title="GTCafe Studio" target="_blank"]);">GTCafe Studio</a><br />
  
    <i class="fa fa-music"></i> <a href="https://www.gtcafe.com/rickmidi/" title="喝咖啡 聊音樂 (v2021)" target="_blank"]);">喝咖啡 聊音樂 (v2021)</a><br />
   -->

  <!-- <h4>About</h4> -->

  
    <li><a href="/2035/01/21/Index/">全站索引</a></li>
  
    <li><a href="/2017/12/29/About/About-This-Blog/">關於這裏</a></li>
  
    <li><a href="/2017/12/29/About/About-Author/">關於作者</a></li>
  
    <li><a href="/2017/09/20/About/Learning-Approaches/">學習法則</a></li>
  
    <li><a href="/2017/11/26/Thinking-in-Essence/">思考本質</a></li>
  
    <li><a href="/2017/12/02/About/Epiphany/">一些領悟</a></li>
  
    <li><a href="/2014/10/26/Management/Classified-Philosophy/">分類哲學</a></li>
  

  <a href="#">▲ TOP ▲ </a>
</div>

<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/main.js"></script>
<script src="/js/gtcafe-tracking.js"></script>




<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>

<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);

// GTCafe API: completet
tracking_update();
</script>



</body>
</html>
