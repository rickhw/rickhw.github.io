<!DOCTYPE HTML>
<head>
  <meta charset="utf-8">
  
  <title>簡介 HTTPS / TLS 安全通訊協議 | Complete Think</title>

  <meta name="author" content="Rick Hwang">
  <meta name="description" content="HTTPS 也稱 HTTP over TLS、HTTP over SSL、HTTP Secure，是透過計算機網路安全 通訊協議 (Protocol)。
在 摘要密碼學與資訊安全 整理了部分的關於 TLS 協議的資料，本文重新整理我自己對於 HTTPS 這個通訊協議的理解。



How SSL W">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <!-- properties -->
  <meta property="og:title" content="簡介 HTTPS / TLS 安全通訊協議"/>
  <meta property="og:site_name" content="Complete Think"/>
  <meta property="og:type"      content="website" />
  <meta property="og:url" content="https://rickhw.github.io/2021/08/20/ComputerScience/HTTPS-TLS/"/>
  <meta property="og:image" content="/images/ComputerScience/HTTPS-TLS/HowSSLWorks.png" />
  

  <!-- links -->
  <link rel="alternative" href="/atom.xml" title="Complete Think" type="application/atom+xml">
  <link href="/favicon.png" rel="icon">

  <link rel="stylesheet" href="/css/bootstrap.min.css" media="screen" type="text/css">
  <!--
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap-theme.min.css">
  -->
  <link rel="stylesheet" href="/css/font-awesome.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/highlight.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/google-fonts.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

  <script src="/js/jquery-2.0.3.min.js"></script>

  <!-- analytics -->
  
<!--
<script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'G-74Y1F3F5W0']);
    _gaq.push(['_trackPageview']);

    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'stats.g.doubleclick.net/dc.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
</script>
-->
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-74Y1F3F5W0"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-74Y1F3F5W0');
</script>



  <!-- Facebook SDK -->
  <!-- ref: https://developers.facebook.com/docs/plugins/like-button -->
  <!-- @rickd 2022/02/24
    <div id="fb-root"></div>
    <script async defer crossorigin="anonymous"
      src="https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v3.2&appId=1554905741423841&autoLogAppEvents=1"></script>
  -->
  <!-- @ricka 2022/02/24 -->
  <!-- ref: https://developers.facebook.com/docs/plugins/like-button -->
  <!--
  <div id="fb-root"></div>
  <script async defer crossorigin="anonymous"
    src="https://connect.facebook.net/zh_TW/sdk.js#xfbml=1&version=v13.0&appId=1554905741423841&autoLogAppEvents=1"
    nonce="bd9r2mJp"></script>
  -->

  <!-- @ricka 2022/09/06 -->
  <!-- ref: https://developers.facebook.com/docs/plugins/like-button -->
  <div id="fb-root"></div>
  <script async defer crossorigin="anonymous"
    src="https://connect.facebook.net/zh_TW/sdk.js#xfbml=1&version=v14.0&appId=1554905741423841&autoLogAppEvents=1"
    nonce="opf2Gext"></script>


<meta name="generator" content="Hexo 6.1.0"></head>


<body>

  
<nav id="main-nav" class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">
      <button type="button" class="navbar-header navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
		<span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
	  <a class="navbar-brand active" href="/">Complete Think</a>

      <div class="collapse navbar-collapse nav-menu">
		<ul class="nav navbar-nav">
		  	
		  		
					<li class='dropdown'>
						<a aria-expanded='false' class='dropdown-toggle' data-toggle='dropdown' href='#' role='button'><i class="fa fa-folder"></i>Categories <span class='caret'/></span></a>
		            	<ul class='dropdown-menu' role='menu'>
		            	
						<li><a href="/categories/AWS/">AWS <sup>82</sup></a></li>
						
						<li><a href="/categories/About/">About <sup>29</sup></a></li>
						
						<li><a href="/categories/Blog/">Blog <sup>5</sup></a></li>
						
						<li><a href="/categories/經營管理/Career/">Career <sup>6</sup></a></li>
						
						<li><a href="/categories/Coding/">Coding <sup>10</sup></a></li>
						
						<li><a href="/categories/Computer-Science/">Computer Science <sup>6</sup></a></li>
						
						<li><a href="/categories/Container/">Container <sup>9</sup></a></li>
						
						<li><a href="/categories/Data/">Data <sup>2</sup></a></li>
						
						<li><a href="/categories/DevOps/">DevOps <sup>43</sup></a></li>
						
						<li><a href="/categories/Distributed-Systems/">Distributed Systems <sup>20</sup></a></li>
						
						<li><a href="/categories/GCP/">GCP <sup>8</sup></a></li>
						
						<li><a href="/categories/Linux/">Linux <sup>9</sup></a></li>
						
						<li><a href="/categories/Misc/">Misc <sup>3</sup></a></li>
						
						<li><a href="/categories/OS-X/">OS X <sup>4</sup></a></li>
						
						<li><a href="/categories/Redmine/">Redmine <sup>6</sup></a></li>
						
						<li><a href="/categories/Reference/">Reference <sup>5</sup></a></li>
						
						<li><a href="/categories/DevOps/SRE/">SRE <sup>25</sup></a></li>
						
						<li><a href="/categories/Software-Engineering/">Software Engineering <sup>10</sup></a></li>
						
						<li><a href="/categories/System-Design/">System Design <sup>3</sup></a></li>
						
						<li><a href="/categories/經營管理/人才管理/">人才管理 <sup>10</sup></a></li>
						
						<li><a href="/categories/經營管理/溝通/">溝通 <sup>9</sup></a></li>
						
						<li><a href="/categories/經營管理/知識管理/">知識管理 <sup>4</sup></a></li>
						
						<li><a href="/categories/經營管理/">經營管理 <sup>61</sup></a></li>
						
						<li><a href="/categories/軟體測試/">軟體測試 <sup>14</sup></a></li>
						
						</ul>
					</li>
		  		
		  	
		  		
		  			<li><a href="/2016/10/01/AWS-Study-Roadmap/" title="AWS Study Notes."><i class="fa fa-cloud"></i>AWS</a></li>
		  		
		  	
		  		
		  			<li><a href="/categories/DevOps/" title="DevOps / SRE"><i class="fa fa-crosshairs"></i>DevOps</a></li>
		  		
		  	
		  		
		  			<li><a href="/2017/07/01/Index-Software-Engineering-In-Practice/" title="設計、開發、測試、維運"><i class="fa fa-cogs"></i>軟體工程</a></li>
		  		
		  	
		  		
		  			<li><a href="/2017/07/01/Index-Management/" title="經營、管理、領導、教練、產品"><i class="fa fa-users"></i>經營管理</a></li>
		  		
		  	
		  		
		  			<li><a href="/categories/Reference/" title="參考書、名詞對照表"><i class="fa fa-folder"></i>字典工具</a></li>
		  		
		  	
			</ul>

			<!-- @ricka: menu in right -->
			<ul class='nav navbar-nav navbar-right'>
				<li class='dropdown'>
					<a aria-expanded='false' class='dropdown-toggle' data-toggle='dropdown' href='#' role='button'><i class="fa fa-folder"></i>About<span class='caret'/></span></a>
					<ul class='dropdown-menu' role='menu'>
					
						<li><a href="/2017/12/29/About/About-This-Blog/" title="About this blog" target="_blank"> <i class="fa fa-sitemap"></i>關於這裡</a></li>
					
						<li><a href="/2017/12/29/About/About-Author/" title="" target="_blank"> <i class="fa fa-user"></i>關於作者</a></li>
					
						<li><a href="/2017/09/20/About/Learning-Approaches/" title="" target="_blank"> <i class="fa fa-book"></i>學習法則</a></li>
					
						<li><a href="https://www.gtcafe.com" title="GTCafe Studio" target="_blank"> <i class="fa fa-coffee"></i>GTCafe Studio</a></li>
					
						<li><a href="https://www.gtcafe.com/rickmidi/" title="喝咖啡 聊音樂 (v2021)" target="_blank"> <i class="fa fa-music"></i>喝咖啡 聊音樂 (v2021)</a></li>
					
					</ul>
				</li>
			</ul>
			<!-- @ricka end -->
      </div>
    </div> <!-- container -->
</nav>
<div class="clearfix"></div>

  <div class="container">
    <div class="content" style="background-color: white;">
       




	
		<!-- @rick, header of article -->
		<!-- original
		<div class="page-header">
			<h1> 簡介 HTTPS / TLS 安全通訊協議</h1>
		</div>
		-->

		<div class="panel article_title">
			<div class="panel-heading">
    		<h1> 簡介 HTTPS / TLS 安全通訊協議</h1>
  		</div>
		</div>

	



<div class="row post">
	<!-- cols -->
	
	<div class="col-md-9">
		

			

			<!-- content -->
			<div class="mypage">
				<!-- ref: https://developers.facebook.com/docs/plugins/like-button -->
				<!-- Facebook in front of page -->
				<!--
				<iframe
					src="https://www.facebook.com/plugins/like.php?href=https%3A%2F%2Frickhw.github.io%2F2021%2F08%2F20%2FComputerScience%2FHTTPS-TLS%2F&width=450&layout=standard&action=like&size=small&show_faces=true&share=true&height=80&appId=1554905741423841"
					width="450" height="80"
					style="border:none;overflow:hidden"
					scrolling="no" frameborder="0"
					allowTransparency="true" allow="encrypted-media"></iframe>
				-->

				<!-- <div class="fb-like" data-href="https://rickhw.github.io/2021/08/20/ComputerScience/HTTPS-TLS/" data-layout="standard"
					data-action="like" data-size="small" data-show-faces="true" data-share="true"></div>-->

				<div class="fb-like" data-href="https://rickhw.github.io/2021/08/20/ComputerScience/HTTPS-TLS/" data-width="" data-layout="button_count"
					data-action="like" data-size="small" data-share="true"></div>

				<hr />

				<p>HTTPS 也稱 <code>HTTP over TLS</code>、<code>HTTP over SSL</code>、<code>HTTP Secure</code>，是透過計算機網路安全 <code>通訊協議 (Protocol)</code>。</p>
<p>在 <a href="/2020/03/07/ComputerScience/Cryptography/">摘要密碼學與資訊安全</a> 整理了部分的關於 TLS 協議的資料，本文重新整理我自己對於 HTTPS 這個通訊協議的理解。</p>
<span id="more"></span>

<hr>
<h1 id="How-SSL-Works"><a href="#How-SSL-Works" class="headerlink" title="How SSL Works?"></a>How SSL Works?</h1><p>整體來看看 SSL&#x2F;TLS 是怎麼運作的。</p>
<p><img src="/images/ComputerScience/HTTPS-TLS/HowSSLWorks.png" alt="How SSL Works?"></p>
<p>圖中包含了幾個角色：</p>
<ul>
<li>Certificate Authoriy (CA): 數位憑證認證機構，是負責發放和管理 <code>數位憑證</code> 的權威機構。</li>
<li>Browser Vendor: 瀏覽器的供應者，像是 Google、Microsoft、Apple</li>
<li>Client App: 目標瀏覽的應用程式</li>
<li>Web Server: 網站服務器</li>
</ul>
<p>整個流程如下：</p>
<ol>
<li>CA (Godaddy): 發一張 root certificate 給所有 browser 開發者</li>
<li>Browser Vendor (Google, Mozilla): root certificate 會包在 App (ex 瀏覽器) 發布給使用者。</li>
<li>CSR (certificate signing request): 瀏覽器對 CA 發出 CSR 請求<ul>
<li>目的是針對目前 WebSite 的 Domain 做認證</li>
</ul>
</li>
<li>CA 回傳簽可的憑證 (Signed Certificate)<ul>
<li>代表 WebSite Domain 的合法性</li>
</ul>
</li>
<li>Client App (browser) 對 Web Server 發出請求</li>
<li>Web Server 回傳請求給 Client App</li>
<li>Client App 驗證 WebSite 的 Domain Certificate</li>
</ol>
<hr>
<h1 id="SSL-Communication-詳述"><a href="#SSL-Communication-詳述" class="headerlink" title="SSL Communication 詳述"></a>SSL Communication 詳述</h1><p>下圖是 SSL 整個通訊協議過程的流程圖：</p>
<p><img src="/images/ComputerScience/HTTPS-TLS/SSL-Communication.jpg" alt="SSL Communication Flow Diagram"></p>
<ul>
<li><code>階段一 (Authentication)</code>：使用 Public &#x2F; Asymmetric Key Encryption Algorithms.<ul>
<li><code>Step 1</code>: Client 送出 Hello 訊息到 Server</li>
<li><code>Step 2</code>: Server 收到 Hello 後回覆 Hello 訊息</li>
<li><code>Step 3</code>: Client 驗證 Server 回傳的 SSL Certificate</li>
<li><code>Step 4</code>: (Optional) Client 傳送 SSL Certifiate 給 Server</li>
<li><code>Step 5</code>: (Optional) Server 驗證 Client 回傳的 SSL Certifiate</li>
</ul>
</li>
<li><code>階段二 (Key Exchange)</code>：使用 Public &#x2F; Asymmetric Key Encryption Algorithms&#x2F;Key Exchange protocol.<ul>
<li><code>Step 6</code>: Client 送出 Key Exchange 的請求</li>
<li><code>Step 7</code>: 改變 Cipher Spec</li>
<li><code>Step 8</code>: Client 端完成請求</li>
<li><code>Step 9</code>: Server 端依照請求，改變 Cipher Spec</li>
<li><code>Step 10</code>: Server 端完成請求</li>
</ul>
</li>
<li><code>階段三 (Encrypted Data Transfer)</code>：使用 Private &#x2F; Symmetric Key Encryption Algorithms<ul>
<li><code>Step 11</code>: 使用對稱式加密傳輸資料。</li>
</ul>
</li>
</ul>
<p>前面階段一、二 稱 <code>SSL Handshake Protocol</code>，主要目的是認證 Server 是否合法，進而決定資料傳輸過程使用的對稱式金鑰；階段三則稱為 <code>SSL Record Protocol</code>，主要目的就是在安全的傳輸過程，使用 <code>對稱式加密演算法</code> 傳輸資料。</p>
<hr>
<h2 id="階段一：Authentication-Handsharke"><a href="#階段一：Authentication-Handsharke" class="headerlink" title="階段一：Authentication (Handsharke)"></a>階段一：Authentication (Handsharke)</h2><p>這個階段在 <code>公開傳輸</code> 的過程，使用 <code>非對稱加密演算法</code>。</p>
<ul>
<li><code>Step 1</code>: Client 送出 Hello 到 Server，包含以下訊息：<ol>
<li><code>SSL Version</code>: 版本號碼可以是 sslv3, tls1.0, tls1.1, tls1.2</li>
<li><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Cipher_suite">Cipher Suites</a>: 使用在 TLS 時的 演算法集合名稱，詳細後面描述</li>
<li>如果 <code>金鑰交換階段</code> 要使用 RSA ，那麼會再產生一個 Client Random Number.</li>
</ol>
</li>
<li><code>Step 2</code>: Server 準備回給 Client 的 Hello 訊息，其中包含了：<ol>
<li>SSL Version</li>
<li>Cipher Suites</li>
<li>支援、且同意的資料壓縮方法</li>
<li>SSL Certificate: 這是整個步驟中最重要的資訊。<ul>
<li>如果之後 <code>金鑰交換階段</code> 使用 RSA ，則會再產生一個隨機數 (Server Random Number)，用在金要交換階段生成對稱金鑰用。</li>
</ul>
</li>
<li>(optional) Client Certificate</li>
<li>Hello Done:</li>
</ol>
</li>
<li><code>Step 3</code>:<ol>
<li>Client 收到 Server 回傳的 SSL Certificate，就會檢查是哪個 CA 簽發的憑證</li>
<li>然後從 Browser 的 Cert Store 取出對應的數位簽章，從中取得 Public Key，與 SSL Certificate 的 Public Key 比對。</li>
<li>如果有問題，表示發生 <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Man-in-the-middle_attack">中間人攻擊, Man-in-the-middle attack (MITM)</a></li>
</ol>
</li>
<li><code>Step 4</code>: (optional) Client 發送 Certificate 給 Server</li>
<li><code>Step 5</code>: (optional) Server 驗證 Client 的 Ceritifcate</li>
</ul>
<h3 id="Cipher-Suites"><a href="#Cipher-Suites" class="headerlink" title="Cipher Suites"></a>Cipher Suites</h3><p>在 <code>Step 1</code> Client 送出 Hello 訊息時，依照 SSL Version 的訊息，會包含一些此版本支援的 <code>協議與演算法組合</code>，這個組合稱為 <code>Cipher Suites</code>，這個組合會被用在整個 SSL Session 過程中。Cipher Suites 的名稱大概長得像下面這樣：</p>
<ul>
<li>TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256</li>
<li>TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256</li>
<li>TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256</li>
<li>TLS_RSA_WITH_AES_128_GCM_SHA256</li>
</ul>
<p>上述的 Cipher Suite 名稱在 RFC 有標準定義命名規則，上述的範例是 TLS 使用的標準規則，定義在 <a target="_blank" rel="noopener" href="https://datatracker.ietf.org/doc/html/rfc2246">RFC 2246, TLS v1.0</a>, <a target="_blank" rel="noopener" href="https://datatracker.ietf.org/doc/html/rfc4346">RFC 4346, TLS v1.1</a>, <a target="_blank" rel="noopener" href="https://datatracker.ietf.org/doc/html/rfc5246">RFC 5246, TLS v1.2</a>, and <a target="_blank" rel="noopener" href="https://datatracker.ietf.org/doc/html/rfc8446">RFC 8446, TLS v1.3</a>。</p>
<p>命名格式如下：</p>
<blockquote>
<p><code>L1</code>_<code>L2</code>_<code>L3</code>_WITH_<code>L4</code>_<code>L5</code>_<code>L6</code></p>
</blockquote>
<ul>
<li><code>L1</code>: 使用哪一個傳輸層通訊協議，有 TLS、SSL。</li>
<li><code>L2</code>: 描述使用哪個 <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Key_exchange">Key Exchange</a> 演算法，像是 RSA、DH (Diffie–Hellman)<ul>
<li><code>ECDHE</code> 全名 <code>Elliptic Curve Diffie-Hellman Ephemeral</code>，中文 <code>橢圓曲線迪菲-赫爾曼密鑰交換</code>，是一種 <code>匿名密鑰協議 (Key-agreement protocol)</code>。</li>
<li>這是 <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Diffie%E2%80%93Hellman_key_exchange">Diffie–Hellman key exchange</a> 的變種，採用 <code>橢圓曲線密碼學</code> 來加強性能與安全性。</li>
<li><code>ECDH</code> 則是</li>
</ul>
</li>
<li><code>L3</code>: 交握過程的認證機制<ul>
<li><code>RSA</code></li>
</ul>
</li>
<li><code>L4</code>: session cipher，加密的 Size<ul>
<li>範例：<code>AES_128</code></li>
</ul>
</li>
<li><code>L5</code>: 對稱式加密演算法法的操作模式<ul>
<li><code>GCM</code> type of encryption (cipher-block dependency and additional options)</li>
</ul>
</li>
<li><code>SHA</code> (SHA2)hash function. For a digest of 256 and higher. Signature mechanism. indicates the message authentication algorithm which is used to authenticate a message.</li>
<li><code>256</code> Digest size (bits).</li>
</ul>
<blockquote>
<p>附註：Cipher Suite 的命名規則，在 RFC 與部分實作有所差異，OpenSSL and <a target="_blank" rel="noopener" href="https://github.com/aws/s2n-tls">s2n, c99</a> 則使用另一種命名方式。相關對照表可以參考 <a target="_blank" rel="noopener" href="https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/secure-connections-supported-viewer-protocols-ciphers.html#secure-connections-openssl-rfc-cipher-names">Supported protocols and ciphers between viewers and CloudFront</a> 的整理。</p>
</blockquote>
<p>下圖是 AWS ELB &#x2F; CLB 中的 SSL Cipher Suite 設定截圖：</p>
<p><img src="/images/ComputerScience/HTTPS-TLS/AWS-CLB-CipherSuite.png"></p>
<p>更多 ELB Security Policy 定義參閱: <a target="_blank" rel="noopener" href="https://docs.aws.amazon.com/elasticloadbalancing/latest/classic/elb-security-policy-table.html">Predefined SSL security policies for Classic Load Balancers</a></p>
<hr>
<h2 id="階段二：Key-Exchange"><a href="#階段二：Key-Exchange" class="headerlink" title="階段二：Key Exchange"></a>階段二：Key Exchange</h2><p>同階段一，也是在 <code>公開傳輸</code> 的過程，使用 <code>非對稱加密演算法</code>。這個階段的目的：</p>
<blockquote>
<p>產生一個用來在 <code>階段三</code> 資料交換時，使用的 <code>對稱式加密演算法</code> 的 <code>對稱式金鑰 (Shared Secret)</code></p>
</blockquote>
<p>在一個公開透明的傳輸通道要產生金曜、然後傳輸，最常見的方法是 RSA 或者 <code>Deffie Hellman</code> 演算法。</p>
<ul>
<li><code>Step 6</code>: Client 送出 Key Exchange 的請求</li>
<li><code>Step 7</code>: 改變 Cipher Spec</li>
<li><code>Step 8</code>: Client 端完成請求</li>
<li><code>Step 9</code>: Server 端依照請求，改變 Cipher Spec</li>
<li><code>Step 10</code>: Server 端完成請求</li>
</ul>
<h3 id="RSA-Key-Exchange"><a href="#RSA-Key-Exchange" class="headerlink" title="RSA Key Exchange"></a>RSA Key Exchange</h3><ul>
<li><code>Pre-master secret</code>: 使用 RSA 取得金鑰，那麼在 <code>Step1</code> 就會產生 <code>Random Number</code>，然後使用 Server 憑證裡的公鑰加密，這個 Random Number 稱為 <code>Pre-master secret (PMS)</code></li>
<li><code>Client&#39;s Random Number</code>: Client 端產生的一組隨機碼</li>
<li><code>Server&#39;s Random Number</code>: Server 端產生的一組隨機碼</li>
</ul>
<p>透過這三個數字的隨機性，就可以產生 <code>資料傳輸階段</code> 時，<code>對稱式加密演算法</code> 所需要的 <code>加密金鑰 (Master Secret)</code>。</p>
<p>但是用 RSA 並不具備 PFS 特性，所以現在大多使用 DH 演算法。</p>
<h3 id="Forward-Secrecy"><a href="#Forward-Secrecy" class="headerlink" title="Forward Secrecy"></a>Forward Secrecy</h3><p>中文翻譯成 <code>向前保密</code>，有時候也稱為 <code>完全向前保密 (Perfect Forward Secrecy, PFS)</code>，是密碼學中通訊協議的安全屬性。</p>
<p>TLS 基於 DHE (迪菲-赫爾曼金鑰交換) 演算法，就滿足 PFS 的特性，以下是滿足的演算法：</p>
<ul>
<li>DHE-RSA</li>
<li>DHE-DSA</li>
<li>DHE-ECDSA</li>
</ul>
<p>基於 ECDHE (橢圓曲線迪菲-赫爾曼金鑰交換) 的安全通訊，包含了：</p>
<ul>
<li>ECDHE-RSA</li>
<li>ECDHE-ECDSA</li>
</ul>
<blockquote>
<p>更多參閱 Wikipedia 說明: <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Forward_secrecy">Forward Secrecy</a></p>
</blockquote>
<h3 id="Diffie-Hellman-Key-Exchange"><a href="#Diffie-Hellman-Key-Exchange" class="headerlink" title="Diffie-Hellman Key Exchange"></a>Diffie-Hellman Key Exchange</h3><p>大多時候簡稱 <code>DH 演算法</code>，是一種安全協議，主要目的：</p>
<blockquote>
<p>雙方在沒有任何預先條件之下，透過公開的管道 (Public Channel, Unsafe) 建立一個金鑰，這個金鑰可以在後續的通訊過程作為加密金鑰來加密資料。</p>
</blockquote>
<p>與 RSA 不一樣的是，DH 演算法具備了 <code>向前安全性 (Forward Secrecy)</code>，所以被廣泛運用在通訊傳輸的安全加密。</p>
<blockquote>
<p>DH 演算法詳細推演過程，參閱 <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Diffie%E2%80%93Hellman_key_exchange">Wikipedia</a></p>
</blockquote>
<p>DH 演算法的弱點就是 <code>中間人攻擊</code>，因為整個演算法並沒有跟 <code>身份驗證</code> 有關的資訊，所以理想的做法就是要有個機制可以做身份識別，這也就是為什麼用自簽憑證的 HTTPS 瀏覽器會看出現警告訊息的原因。</p>
<hr>
<h2 id="階段三：Encrypted-Data-Transfer-x2F-Record-Protocol"><a href="#階段三：Encrypted-Data-Transfer-x2F-Record-Protocol" class="headerlink" title="階段三：Encrypted Data Transfer &#x2F; Record Protocol"></a>階段三：Encrypted Data Transfer &#x2F; Record Protocol</h2><p>進入資料傳輸階段，這個階段也稱為 <code>Record protocol</code>，使用 <code>對稱加密演算法</code> 加密瀏覽器與伺服器之間傳輸的資料。這個過程必須滿足以下特性：</p>
<ol>
<li><code>保密性 (Confidentiality)</code>: 透過對稱式加密達到保密性，使用之前提到的 <code>Master Secret</code> 做資料加密。</li>
<li><code>完整性 (Integrity)</code>: 透過 <a target="_blank" rel="noopener" href="https://zh.wikipedia.org/zh-tw/%E8%A8%8A%E6%81%AF%E9%91%91%E5%88%A5%E7%A2%BC">MAC (Message Authentication Code)</a> 確認，MAC 則是透過 Hash 演算法計算得來。</li>
</ol>
<p>下圖是 Record Protocol 的結構：</p>
<p><img src="/images/ComputerScience/HTTPS-TLS/Record-Protocol.jpeg"><br>圖片來源：<a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=bSMRf0lAuzw">SSL Record Protocol</a></p>
<p>結構與流程說明如下：</p>
<ol>
<li>Application Data: 應用程式資料會被拆分成若干份 Fragment</li>
<li>Fragment: 每個傳輸資料會被拆分成幾個區塊後，個別傳送，這個區塊稱為 Fragment<ul>
<li>每個 Fragment 會經過壓縮演算法進行資料壓縮</li>
</ul>
</li>
<li>MAC: 用來確認每個 Fragment 的完整性驗證碼<ul>
<li>每個壓縮過後的資料，透過 Hash 計算出 MAC 值</li>
<li>這個 MAC 值附加在壓縮資料之後</li>
</ul>
</li>
<li>Encrypt: 取得 Fragment 的 MAC 之後，使用 Secret Key 加密這兩個</li>
<li>SSL Record Header: 最後附上 Record Header</li>
</ol>
<hr>
<h1 id="Lab"><a href="#Lab" class="headerlink" title="Lab"></a>Lab</h1><p>為了瞭解 整個 HTTPS &#x2F; TLS 通訊過程真實的狀況，我用 Wireshark 抓了一些封包，紀錄整個 Handshark 過程的資訊，與後面的整理比較。</p>
<p>下圖是透過 Browser Brave 連線 199.232.192.134 這個網站，使用 Wireshark 3.4.7-0-ge42cbf6a415 在 macOS 10.15.7 抓的封包：</p>
<h2 id="階段一：Client-Hello"><a href="#階段一：Client-Hello" class="headerlink" title="階段一：Client Hello"></a>階段一：Client Hello</h2><p>Client (Browser) to Server，在 <code>Client Hello</code> 部分有以下資訊:</p>
<ul>
<li>Handshake Type: Client Hello (1)</li>
<li>Version: TLS 1.2 (0x0303)</li>
<li>Random: 7bcc7dce161a90f5fe5c83aaea001fb9cc3dcf532be85448534a4d0ef3d7578e</li>
<li>Session ID: 8bbaaaff25ea8066c42ebc05f9059b310c27dbb86b973439d88bda2405613682</li>
<li>Cipher Suites (16 suites)</li>
</ul>
<p><img src="/images/ComputerScience/HTTPS-TLS/example/01_client-hello.png"></p>
<h2 id="階段一、二：Server-Hello-Change-Cipher-Spec-Encrypted-Handshake-Message"><a href="#階段一、二：Server-Hello-Change-Cipher-Spec-Encrypted-Handshake-Message" class="headerlink" title="階段一、二：Server Hello, Change Cipher Spec, Encrypted Handshake Message"></a>階段一、二：Server Hello, Change Cipher Spec, Encrypted Handshake Message</h2><p>Server to Client，在 <code>Server Hello</code> 部分可以看出以下資訊：</p>
<ul>
<li>Handshake Type: Server Hello (2)</li>
<li>Version: TLS 1.2 (0x0303)</li>
<li>Cipher Suite: TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256 (0xc02f)</li>
<li>Random: b3b00f857658ec49606ca3bcd3aaae6768b1b045898731e3675e0dc866bd11fa<ul>
<li>Cipher Suite 使用 ECDHE_RSA</li>
</ul>
</li>
<li>Compression Method: null (0)</li>
</ul>
<p><img src="/images/ComputerScience/HTTPS-TLS/example/02_s2c_server-hello_change-cipher-spec_encrypted-handshake-message.png"></p>
<p>Client (Browser) to Server:</p>
<p><img src="/images/ComputerScience/HTTPS-TLS/example/03_c2s_change-cipher-spec_encrypted-handshake-message.png"></p>
<h2 id="Wireshark-的-Filers"><a href="#Wireshark-的-Filers" class="headerlink" title="Wireshark 的 Filers"></a>Wireshark 的 Filers</h2><p>一些使用 Wireshark 過程的記錄：</p>
<p>Filter:</p>
<ul>
<li><code>ip.addr == 142.251.43.19 &amp;&amp; tls.record.version == 0x0303</code></li>
<li><code>ip.addr == 142.251.43.19 &amp;&amp; ssl.record.version == 0x0303</code></li>
</ul>
<p>其中：</p>
<ul>
<li>0x0300 SSL 3.0</li>
<li>0x0301 TLS 1.0</li>
<li>0x0302 TLS 1.1</li>
<li>0x0303 TLS 1.2</li>
<li>0x0304 TLS 1.3</li>
</ul>
<p>參考：<a target="_blank" rel="noopener" href="https://www.analysisman.com/2021/06/wireshark-tls1.2.html">Wireshark - Why TLS version is different in Record Layer and Handshake Protocol</a></p>
<h2 id="透過-openssl-了解-TLS-狀況"><a href="#透過-openssl-了解-TLS-狀況" class="headerlink" title="透過 openssl 了解 TLS 狀況"></a>透過 openssl 了解 TLS 狀況</h2><p>整個 TLS 的過程，大多都可以透過 openssl 做實驗，以下整理可以做的動作。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br></pre></td><td class="code"><pre><span class="line">~$ openssl version</span><br><span class="line">LibreSSL 2.8.3</span><br><span class="line"></span><br><span class="line"><span class="comment"># 取得 openssl 支援的 Cipher Suite 的資訊</span></span><br><span class="line">~$ openssl ciphers -v</span><br><span class="line">ECDHE-RSA-AES256-GCM-SHA384 TLSv1.2 Kx=ECDH     Au=RSA  Enc=AESGCM(256) Mac=AEAD</span><br><span class="line">ECDHE-ECDSA-AES256-GCM-SHA384 TLSv1.2 Kx=ECDH     Au=ECDSA Enc=AESGCM(256) Mac=AEAD</span><br><span class="line">ECDHE-RSA-AES256-SHA384 TLSv1.2 Kx=ECDH     Au=RSA  Enc=AES(256)  Mac=SHA384</span><br><span class="line">ECDHE-ECDSA-AES256-SHA  SSLv3 Kx=ECDH     Au=ECDSA Enc=AES(256)  Mac=SHA1</span><br><span class="line"></span><br><span class="line">... 略 ...</span><br><span class="line"></span><br><span class="line">ECDHE-RSA-DES-CBC3-SHA  SSLv3 Kx=ECDH     Au=RSA  Enc=3DES(168) Mac=SHA1</span><br><span class="line">ECDHE-ECDSA-DES-CBC3-SHA SSLv3 Kx=ECDH     Au=ECDSA Enc=3DES(168) Mac=SHA1</span><br><span class="line">EDH-RSA-DES-CBC3-SHA    SSLv3 Kx=DH       Au=RSA  Enc=3DES(168) Mac=SHA1</span><br><span class="line">DES-CBC3-SHA            SSLv3 Kx=RSA      Au=RSA  Enc=3DES(168) Mac=SHA1</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用 OpenSSL 查詢網站伺服器的所有憑證與 TLS 連接資訊，預設會走 TLS v1.3</span></span><br><span class="line">❯ openssl s_client -connect rickhw.github.com:443</span><br><span class="line"></span><br><span class="line">CONNECTED(00000006)</span><br><span class="line">depth=2 C = US, O = DigiCert Inc, OU = www.digicert.com, CN = DigiCert High Assurance EV Root CA</span><br><span class="line">verify <span class="built_in">return</span>:1</span><br><span class="line">depth=1 C = US, O = DigiCert Inc, OU = www.digicert.com, CN = DigiCert SHA2 High Assurance Server CA</span><br><span class="line">verify <span class="built_in">return</span>:1</span><br><span class="line">depth=0 C = US, ST = California, L = San Francisco, O = <span class="string">&quot;GitHub, Inc.&quot;</span>, CN = www.github.com</span><br><span class="line">verify <span class="built_in">return</span>:1</span><br><span class="line">---</span><br><span class="line">Certificate chain</span><br><span class="line"> 0 s:/C=US/ST=California/L=San Francisco/O=GitHub, Inc./CN=www.github.com</span><br><span class="line">   i:/C=US/O=DigiCert Inc/OU=www.digicert.com/CN=DigiCert SHA2 High Assurance Server CA</span><br><span class="line"> 1 s:/C=US/O=DigiCert Inc/OU=www.digicert.com/CN=DigiCert SHA2 High Assurance Server CA</span><br><span class="line">   i:/C=US/O=DigiCert Inc/OU=www.digicert.com/CN=DigiCert High Assurance EV Root CA</span><br><span class="line">---</span><br><span class="line">Server certificate</span><br><span class="line">-----BEGIN CERTIFICATE-----</span><br><span class="line">MIIHMDCCBhigAwIBAgIQAkk+B/qeN1otu8YdlEMPzzANBgkqhkiG9w0BAQsFADBw</span><br><span class="line">MQswCQYDVQQGEwJVUzEVMBMGA1UEChMMRGlnaUNlcnQgSW5jMRkwFwYDVQQLExB3</span><br><span class="line">d3cuZGlnaWNlcnQuY29tMS8wLQYDVQQDEyZEaWdpQ2VydCBTSEEyIEhpZ2ggQXNz</span><br><span class="line"></span><br><span class="line">... 略 ...</span><br><span class="line"></span><br><span class="line">YaRIpRMRdj4stG6CkPJpfSauWa19kReZ6hTQR5f89L6x50us7GuWlmH6EmVFIbhf</span><br><span class="line">9EO02QA3CcU7bE1iLWMHmKcU6ythmgsvNRU5TikxvF77JFv7n1/y8GLrprmKpB6Q</span><br><span class="line">Df4PA8S9ROX9Rzgwe3KTIM6qeKU=</span><br><span class="line">-----END CERTIFICATE-----</span><br><span class="line">subject=/C=US/ST=California/L=San Francisco/O=GitHub, Inc./CN=www.github.com</span><br><span class="line">issuer=/C=US/O=DigiCert Inc/OU=www.digicert.com/CN=DigiCert SHA2 High Assurance Server CA</span><br><span class="line">---</span><br><span class="line">No client certificate CA names sent</span><br><span class="line">Server Temp Key: ECDH, X25519, 253 bits</span><br><span class="line">---</span><br><span class="line">SSL handshake has <span class="built_in">read</span> 3673 bytes and written 289 bytes</span><br><span class="line">---</span><br><span class="line">New, TLSv1/SSLv3, Cipher is ECDHE-RSA-AES128-GCM-SHA256</span><br><span class="line">Server public key is 2048 bit</span><br><span class="line">Secure Renegotiation IS supported</span><br><span class="line">Compression: NONE</span><br><span class="line">Expansion: NONE</span><br><span class="line">No ALPN negotiated</span><br><span class="line">SSL-Session:</span><br><span class="line">    Protocol  : TLSv1.2</span><br><span class="line">    Cipher    : ECDHE-RSA-AES128-GCM-SHA256</span><br><span class="line">    Session-ID: 26C9C570ABA03D7D03BADA74248CEF20FDD5279B6A9EAA4D5128E072EF587E5F</span><br><span class="line">    Session-ID-ctx:</span><br><span class="line">    Master-Key: 49196F3EE337F88CDBF64E8EE41DF9BC283DAAD6C5E2A9C7544933A3847FC1904B15842413AE6A15FF2FDB328C9BD37B</span><br><span class="line">    TLS session ticket lifetime hint: 7200 (seconds)</span><br><span class="line">    TLS session ticket:</span><br><span class="line">    0000 - d1 d1 01 52 63 e8 4d 9d-27 06 48 21 bc 74 06 8d   ...Rc.M.<span class="string">&#x27;.H!.t..</span></span><br><span class="line"><span class="string">    0010 - a6 63 66 6f d3 0e a9 94-31 a4 92 17 27 6a 56 cd   .cfo....1...&#x27;</span>jV.</span><br><span class="line">    0020 - 99 5f cc da 8c 21 f1 75-<span class="built_in">fc</span> 62 45 8a d9 95 ef d4   ._...!.u.bE.....</span><br><span class="line">    0030 - 1d 05 fd 6d fb 8b 01 7e-29 5e 43 85 16 a2 59 73   ...m...~)^C...Ys</span><br><span class="line">    0040 - 4a a7 6d f4 ee e9 1d 05-76 f9 3a ac 54 0d b7 13   J.m.....v.:.T...</span><br><span class="line">    0050 - 00 73 f7 56 cb ff 96 c8-b6 05 1e 79 65 <span class="built_in">df</span> 2f 51   .s.V.......ye./Q</span><br><span class="line">    0060 - 55 c1 2d fb b8 9e 29 81-84 1f 74 24 67 b6 05 3b   U.-...)...t<span class="variable">$g</span>..;</span><br><span class="line">    0070 - 0e ae 4d 9a b6 80 b4 21-be 37 4b 3a 6a 66 fb 51   ..M....!.7K:jf.Q</span><br><span class="line">    0080 - bd 3c d4 5b 58 f2 8e 90-a4 8a c6 ac d8 db f1 25   .&lt;.[X..........%</span><br><span class="line">    0090 - ba 6c 15 e8 af 7b c5 e8-82 98 13 db 9e 26 07 5a   .l...&#123;.......&amp;.Z</span><br><span class="line"></span><br><span class="line">    Start Time: 1629555199</span><br><span class="line">    Timeout   : 7200 (sec)</span><br><span class="line">    Verify <span class="built_in">return</span> code: 0 (ok)</span><br><span class="line"></span><br><span class="line"><span class="comment">## 指定 TLS v1.2</span></span><br><span class="line">~$ openssl s_client -connect rickhw.github.com:443 -tls1_2</span><br><span class="line"></span><br><span class="line">... 略 ...</span><br><span class="line">New, TLSv1/SSLv3, Cipher is ECDHE-RSA-AES128-GCM-SHA256</span><br><span class="line">Server public key is 2048 bit</span><br><span class="line">Secure Renegotiation IS supported</span><br><span class="line">Compression: NONE</span><br><span class="line">Expansion: NONE</span><br><span class="line">No ALPN negotiated</span><br><span class="line">SSL-Session:</span><br><span class="line">    Protocol  : TLSv1.2</span><br><span class="line">    Cipher    : ECDHE-RSA-AES128-GCM-SHA256</span><br><span class="line">    Session-ID: 210CB9C73B2ACB4C91A6A07A753342FEB900AB7E6245DAD438689E8FA3FBFDED</span><br><span class="line">    Session-ID-ctx:</span><br><span class="line">    Master-Key: 28A18A970DD37D9B84F79ED46D027998ECF2DCF9EDD01A376A7A0A8B4F57D15053789B1A63B720362A6F4AED7189C020</span><br><span class="line">    TLS session ticket lifetime hint: 7200 (seconds)</span><br><span class="line">    TLS session ticket:</span><br><span class="line">    0000 - d1 d1 01 52 63 e8 4d 9d-27 06 48 21 bc 74 06 8d   ...Rc.M. .H!.t..</span><br><span class="line">    0010 - 7d 09 ff 8d 7a 2f 85 ac-e7 bc 38 33 7d 37 f2 f6   &#125;...z/....83&#125;7..</span><br><span class="line">    0020 - 9e 5c c2 69 e7 d8 5e 63-d6 b8 72 b1 6f 57 6a 42   .\.i..^c..r.oWjB</span><br><span class="line">    0030 - 0e da 75 21 f3 c0 5d 01-65 07 bf 91 bd ba fb a8   ..u!..].e.......</span><br><span class="line">    0040 - 56 db 7f 82 b9 bd 23 26-b2 8b 53 e4 1e 99 7b e1   V.....<span class="comment">#&amp;..S...&#123;.</span></span><br><span class="line">    0050 - 3f 9e 45 05 3e d2 a7 f8-ae 0a <span class="built_in">df</span> 00 48 75 70 fd   ?.E.&gt;.......Hup.</span><br><span class="line">    0060 - b2 e9 21 0a c8 a7 4d 66-65 f8 9c 9f b2 c2 3c c1   ..!...Mfe.....&lt;.</span><br><span class="line">    0070 - 52 5d 06 9b 5e 22 67 b2-36 a2 c0 3f bf d7 6b 3e   R]..^<span class="string">&quot;g.6..?..k&gt;</span></span><br><span class="line"><span class="string">    0080 - 22 f0 3f 6b 3c 59 0a a6-2d 85 00 19 11 81 bb 7f   &quot;</span>.?k&lt;Y..-.......</span><br><span class="line">    0090 - b4 7b a6 97 96 9f 00 42-8a ae e3 a3 32 9b 8d ff   .&#123;.....B....2...</span><br><span class="line"></span><br><span class="line">    Start Time: 1629555327</span><br><span class="line">    Timeout   : 7200 (sec)</span><br><span class="line">    Verify <span class="built_in">return</span> code: 0 (ok)</span><br><span class="line">---</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>除了 openssl，也可以使用 cURL:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">~$ curl --version</span><br><span class="line">curl 7.64.1 (x86_64-apple-darwin19.0) libcurl/7.64.1 (SecureTransport) LibreSSL/2.8.3 zlib/1.2.11 nghttp2/1.39.2</span><br><span class="line">Release-Date: 2019-03-27</span><br><span class="line">Protocols: dict file ftp ftps gopher http https imap imaps ldap ldaps pop3 pop3s rtsp smb smbs smtp smtps telnet tftp</span><br><span class="line">Features: AsynchDNS GSS-API HTTP2 HTTPS-proxy IPv6 Kerberos Largefile libz MultiSSL NTLM NTLM_WB SPNEGO SSL UnixSockets</span><br><span class="line"></span><br><span class="line"><span class="comment">## 指定 TLS v1.2, Cipher Suite: ECDHE-ECDSA-AES128-GCM-SHA256</span></span><br><span class="line">~$ curl -s -S -v -o /dev/null \</span><br><span class="line">    --tls-max 1.2 \</span><br><span class="line">    --ciphers ECDHE-ECDSA-AES128-GCM-SHA256 \</span><br><span class="line">    https://rickhw.github.com</span><br></pre></td></tr></table></figure>


<!--

# Questions

整個 Study 過程中，疑問不少，底下紀錄整理過的疑問。

Q: 怎麼知道 Browser 預設有哪一些 Cipher Suites？



Q: 為什麼用 Wireshark 很少抓到 `Client Hello` 封包？大多都是直接從 `Server Hello` 開始？

If the client (web browser or mobile application ) initiates a TLS handshake, it sends the following important parameters in a “client hello” message:


Q: 為什麼 Wireshark Filter 過濾的 TLS 1.2 (0x0303)，但是內容又一層說是 TLS 1.3？

> 我找到這篇： [Why TLS version is different in Record Layer and Handshake Protocol][r8]


Q4: 為什麼我會想花時間了解這個協議？

-->


<hr>
<h1 id="結語"><a href="#結語" class="headerlink" title="結語"></a>結語</h1><p>想設計出一個安全的通訊協議，最好的方法，就是參考現在在線上運行多年的標準協議。</p>
<p>那些我們使用多年，卻完全不知道怎麼運做的協議，越是經的起考驗、值得研究的。很久以前就想整理關於 HTTPS &#x2F; TLS 通訊協議的知識，研究過整個 TLS 協議之後，對於設計安全通訊協議算是有初步基礎的認識，過程中也更加強了整理 <a href="/2020/03/07/ComputerScience/Cryptography/">摘要密碼學與資訊安全</a> 一文中不解的部分。</p>
<p>近利用一些瑣碎時間，片段的把資訊組起來，找了很多資料、抓封包分析了解。探索過程其實是很享受、且有趣的，而且更加地知道自己的不足，更加知道前人努力的完整性。</p>
<p><code>資訊安全</code> 一直以來都是 <code>動詞</code>，但是要具備 <code>能力 (Ability)</code> 執行這些動作，所要具備的 <code>領域專業知識 (Know How)</code> 與 <code>技能 (Skills)</code> 是一個都不能少的，否則就只是紙上談兵，說空話的江湖郎中。在整理 <a href="/2020/03/02/AWS/Study-Notes-KMS/">AWS KMS</a> 以及 Secret Management 的時候，就覺得應該往前推把 <a href="/2020/03/07/ComputerScience/Cryptography/">基礎密碼學</a> 做一些複習與研究，彌補自己對於這些知識的不足。而在研讀密碼學的過程，覺得應該要與實務結合，過程中因為時事，整理了 <code>Data Encryption</code> 的概念 (Data in Transit、at Rest、in Used) ，岔到了資訊安全去了。後來覺得要能夠精準掌握這些密碼覺得應用，還是應該從掌握協議設計切入，所以選擇了現金網路通訊最重要的安全通訊協議 TLS 切入，所以就有了這一篇 <code>簡介 HTTPS / TLS 安全通訊協議</code> 整理。</p>
<p>網路上其實有很多整理很好的文章，本文剛開始是參考 <a target="_blank" rel="noopener" href="https://medium.com/@clu1022/%E9%82%A3%E4%BA%9B%E9%97%9C%E6%96%BCssl-tls%E7%9A%84%E4%BA%8C%E4%B8%89%E4%BA%8B-%E4%B9%9D-ssl-communication-31a2a8a888a6">那些關於SSL&#x2F;TLS的二三事(九) — SSL (HTTPS) Communication</a> 為起點，過程中以此延伸找尋更多資料，更是實際從抓封包、夠過 openssl 實際應用，得到驗證。</p>
<p>這只是開始，還有很多要補充以及學習的！</p>
<hr>
<h1 id="延伸閱讀"><a href="#延伸閱讀" class="headerlink" title="延伸閱讀"></a>延伸閱讀</h1><h2 id="站內文章"><a href="#站內文章" class="headerlink" title="站內文章"></a>站內文章</h2><ul>
<li><a href="/2020/03/07/ComputerScience/Cryptography/">摘要密碼學與資訊安全</a></li>
<li><a href="/2020/03/02/AWS/Study-Notes-KMS/">Study Notes - Key Management Service</a></li>
<li><a href="/2019/05/30/AWS/Federated-SSO-to-AWS-using-GSuite/">如何用 G Guite 整合 AWS Single Sign-On</a></li>
<li><a href="/2016/04/07/AWS/Study-Notes-S3/">Study Notes - AWS S3</a></li>
</ul>
<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul>
<li><a target="_blank" rel="noopener" href="http://www.moserware.com/2009/06/first-few-milliseconds-of-https.html?repost!">The First Few Milliseconds of an HTTPS Connection</a></li>
<li><a target="_blank" rel="noopener" href="https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/secure-connections-supported-viewer-protocols-ciphers.html#secure-connections-openssl-rfc-cipher-names">Supported protocols and ciphers between viewers and CloudFront</a></li>
<li><a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=yM8_YMLnqLo">Key management and Diffie-Hellman Key Exchange (CSS322, Lecture 21, 2013)</a></li>
<li><a target="_blank" rel="noopener" href="https://draveness.me/whys-the-design-https-latency">为什么 HTTPS 需要 7 次握手以及 9 倍时延 · Why’s THE Design?</a></li>
<li><a target="_blank" rel="noopener" href="https://medium.com/@clu1022/%E9%82%A3%E4%BA%9B%E9%97%9C%E6%96%BCssl-tls%E7%9A%84%E4%BA%8C%E4%B8%89%E4%BA%8B-%E4%B9%9D-ssl-communication-31a2a8a888a6">那些關於SSL&#x2F;TLS的二三事(九) — SSL (HTTPS)Communication</a></li>
<li><a target="_blank" rel="noopener" href="https://medium.com/@clu1022/%E9%82%A3%E4%BA%9B%E9%97%9C%E6%96%BCssl-tls%E7%9A%84%E4%BA%8C%E4%B8%89%E4%BA%8B-%E4%BA%8C-how-ssl-works-a9d6720bdd48">那些關於SSL&#x2F;TLS的二三事(二) — How SSL works?</a></li>
<li><a target="_blank" rel="noopener" href="https://www.analysisman.com/2021/06/wireshark-tls1.2.html">Wireshark - Why TLS version is different in Record Layer and Handshake Protocol</a></li>
<li><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Man-in-the-middle_attack">Man in the middle attack</a></li>
<li><a target="_blank" rel="noopener" href="https://halfrost.com/https_record_layer/">HTTPS 温故知新（二） —— TLS 记录层协议</a></li>
<li><a target="_blank" rel="noopener" href="https://docs.aws.amazon.com/elasticloadbalancing/latest/classic/elb-security-policy-table.html">Predefined SSL security policies for Classic Load Balancers</a></li>
<li><a target="_blank" rel="noopener" href="https://www.facebook.com/will.fans/videos/374050803968418">深入理解 TLS&#x2F;SSL 安全加密協定</a></li>
<li><a target="_blank" rel="noopener" href="https://www.kawabangga.com/posts/5330">有关 TLS&#x2F;SSL 证书的一切</a></li>
</ul>
<h2 id="RFC"><a href="#RFC" class="headerlink" title="RFC"></a>RFC</h2><ul>
<li><a target="_blank" rel="noopener" href="https://datatracker.ietf.org/doc/html/rfc8446">RFC 8446 - TLS v1.3</a></li>
<li><a target="_blank" rel="noopener" href="https://datatracker.ietf.org/doc/html/rfc5246">RFC 5246 - TLS v1.2</a></li>
<li><a target="_blank" rel="noopener" href="https://datatracker.ietf.org/doc/html/rfc4346">RFC 4346 - TLS v1.1</a></li>
<li><a target="_blank" rel="noopener" href="https://datatracker.ietf.org/doc/html/rfc2246">RFC 2246 - TLS v1.0</a></li>
</ul>
<h2 id="Wikipedia"><a href="#Wikipedia" class="headerlink" title="Wikipedia"></a>Wikipedia</h2><ul>
<li><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Cipher_suite">Cipher Suites</a></li>
<li><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Key_exchange">Key exchange</a></li>
<li><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Elliptic-curve_Diffie%E2%80%93Hellman">Elliptic-curve Diffie–Hellman</a></li>
<li><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Diffie%E2%80%93Hellman_key_exchange">Diffie–Hellman</a></li>
<li><a target="_blank" rel="noopener" href="https://zh.wikipedia.org/zh-tw/%E8%A8%8A%E6%81%AF%E9%91%91%E5%88%A5%E7%A2%BC">訊息鑑別碼, MAC</a></li>
</ul>


				<hr />

				<!-- Facebook in bend of page -->
				<div class="fb-like" data-href="https://rickhw.github.io/2021/08/20/ComputerScience/HTTPS-TLS/" data-width="" data-layout="button_count"
					data-action="like" data-size="small" data-share="true"></div>

				<hr />

				<!-- LikeCoin -->
				<!-- @rickd 2022/09/06 -->
				<!--
				<iframe data-v-b66e9a5a=""
					src="https://button.like.co/in/embed/rick_kyhwang/button?referrer=https://rickhw.github.io/2021/08/20/ComputerScience/HTTPS-TLS/"
					frameborder="0" class="lc-margin-top-64 lc-margin-bottom-32 lc-mobile">
				</iframe>
				<br />
				-->

				<div>
					<center>
						
<div class="pagination">
<ul class="pagination">
	 
				
    	<li class="prev"><a href="/2021/08/27/About/AWS-Community-Hero-2021/" class="alignleft prev"><i class="fa fa-arrow-circle-o-left"></i>Prev</a></li>
  		

        <li><a href="/categories"><i class="fa fa-archive"></i>Archive</a></li>

		
		   <li class="next"><a href="/2021/07/11/DistributedSystems/Experience-Dapr-PubSub/" class="alignright next">Next<i class="fa fa-arrow-circle-o-right"></i></a></li>         
        
	
</ul>
</div>

					</center>
				</div>


				<!-- comment -->
				
<section id="comment">
  <h2 class="title">Comments</h2>

	<!-- @rick add for facebook -->
	<!-- <div class='fb-comments' data-num-posts='10' data-width='100%' expr:href='data:post.url'/> -->
  <!-- @ricka 2022/09/06, ref: https://developers.facebook.com/docs/plugins/comments/ -->
  <div class="fb-comments" data-order-by="reverse-time" data-href="https://rickhw.github.io/2021/08/20/ComputerScience/HTTPS-TLS/" data-width="100%" data-numposts="10"></div>

  


</section>






			</div>



		</div> <!-- col-md-9/col-md-12 -->

		
		<!-- meta in right -->
		<div class="col-md-3">

	<!-- date -->
	
	<div class="meta-widget">
		<i class="fa fa-clock-o"></i>
		2021/08/20 21:42:30
	</div>
	

	<hr />

	<!-- toc -->
	<div class="meta-widget">
	
	   <a data-toggle="collapse" data-target="#toc"><i class="fa fa-bars"></i> Table of Content</a>
	   <div id="toc" class="toc collapse in">
				<ol class="toc-article"><li class="toc-article-item toc-article-level-1"><a class="toc-article-link" href="#How-SSL-Works"><span class="toc-article-text">How SSL Works?</span></a></li><li class="toc-article-item toc-article-level-1"><a class="toc-article-link" href="#SSL-Communication-%E8%A9%B3%E8%BF%B0"><span class="toc-article-text">SSL Communication 詳述</span></a><ol class="toc-article-child"><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#%E9%9A%8E%E6%AE%B5%E4%B8%80%EF%BC%9AAuthentication-Handsharke"><span class="toc-article-text">階段一：Authentication (Handsharke)</span></a><ol class="toc-article-child"><li class="toc-article-item toc-article-level-3"><a class="toc-article-link" href="#Cipher-Suites"><span class="toc-article-text">Cipher Suites</span></a></li></ol></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#%E9%9A%8E%E6%AE%B5%E4%BA%8C%EF%BC%9AKey-Exchange"><span class="toc-article-text">階段二：Key Exchange</span></a><ol class="toc-article-child"><li class="toc-article-item toc-article-level-3"><a class="toc-article-link" href="#RSA-Key-Exchange"><span class="toc-article-text">RSA Key Exchange</span></a></li><li class="toc-article-item toc-article-level-3"><a class="toc-article-link" href="#Forward-Secrecy"><span class="toc-article-text">Forward Secrecy</span></a></li><li class="toc-article-item toc-article-level-3"><a class="toc-article-link" href="#Diffie-Hellman-Key-Exchange"><span class="toc-article-text">Diffie-Hellman Key Exchange</span></a></li></ol></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#%E9%9A%8E%E6%AE%B5%E4%B8%89%EF%BC%9AEncrypted-Data-Transfer-x2F-Record-Protocol"><span class="toc-article-text">階段三：Encrypted Data Transfer &#x2F; Record Protocol</span></a></li></ol></li><li class="toc-article-item toc-article-level-1"><a class="toc-article-link" href="#Lab"><span class="toc-article-text">Lab</span></a><ol class="toc-article-child"><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#%E9%9A%8E%E6%AE%B5%E4%B8%80%EF%BC%9AClient-Hello"><span class="toc-article-text">階段一：Client Hello</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#%E9%9A%8E%E6%AE%B5%E4%B8%80%E3%80%81%E4%BA%8C%EF%BC%9AServer-Hello-Change-Cipher-Spec-Encrypted-Handshake-Message"><span class="toc-article-text">階段一、二：Server Hello, Change Cipher Spec, Encrypted Handshake Message</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#Wireshark-%E7%9A%84-Filers"><span class="toc-article-text">Wireshark 的 Filers</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#%E9%80%8F%E9%81%8E-openssl-%E4%BA%86%E8%A7%A3-TLS-%E7%8B%80%E6%B3%81"><span class="toc-article-text">透過 openssl 了解 TLS 狀況</span></a></li></ol></li><li class="toc-article-item toc-article-level-1"><a class="toc-article-link" href="#%E7%B5%90%E8%AA%9E"><span class="toc-article-text">結語</span></a></li><li class="toc-article-item toc-article-level-1"><a class="toc-article-link" href="#%E5%BB%B6%E4%BC%B8%E9%96%B1%E8%AE%80"><span class="toc-article-text">延伸閱讀</span></a><ol class="toc-article-child"><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#%E7%AB%99%E5%85%A7%E6%96%87%E7%AB%A0"><span class="toc-article-text">站內文章</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#%E5%8F%83%E8%80%83%E8%B3%87%E6%96%99"><span class="toc-article-text">參考資料</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#RFC"><span class="toc-article-text">RFC</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#Wikipedia"><span class="toc-article-text">Wikipedia</span></a></li></ol></li></ol>
		</div>
	
	</div>

	<hr />

	<!-- categories -->
  
	<div class="meta-widget">
		<a data-toggle="collapse" data-target="#categorys"><i class="fa fa-folder"></i> Categories</a>
    <!--<ul id="categorys" class="tag_box list-unstyled collapse in">-->
      <div>
  <!--<li>-->
    <span class="label label-info"><a href="/categories/Computer-Science/" style="color: white">Computer Science <span class="badge">6</span></a></span>
  <!--</li>-->
</div>
    <!--</ul>-->
	</div>
	

	<hr />

	<!-- tags -->
	
	<div class="meta-widget">
		<a data-toggle="collapse" data-target="#tags"><i class="fa fa-tags"> Tags</i></a>
    <!--<ul id="tags" class="tag_box list-unstyled collapse in">-->
    <div>
	  	
  <span class="label label-success"><a href="/tags/Cryptography/" style="color: white">Cryptography <span class="badge">2</span></a></span> <span class="label label-success"><a href="/tags/Information-Security/" style="color: white">Information Security <span class="badge">2</span></a></span> <span class="label label-success"><a href="/tags/Hash/" style="color: white">Hash <span class="badge">2</span></a></span> <span class="label label-success"><a href="/tags/LDAP/" style="color: white">LDAP <span class="badge">2</span></a></span> <span class="label label-success"><a href="/tags/SSO/" style="color: white">SSO <span class="badge">3</span></a></span>
	  </div>
    <!--</ul>-->
	</div>
	


  <hr />

	<div class="meta-widget">
		<!-- v4 -->
		<h4>About</h4>
		
			<li><a href="/2035/01/21/Index/">全站索引</a></li>
		
			<li><a href="/2017/12/29/About/About-This-Blog/">關於這裏</a></li>
		
			<li><a href="/2017/12/29/About/About-Author/">關於作者</a></li>
		
			<li><a href="/2017/09/20/About/Learning-Approaches/">學習法則</a></li>
		
			<li><a href="/2017/11/26/Thinking-in-Essence/">思考本質</a></li>
		
			<li><a href="/2017/12/02/About/Epiphany/">一些領悟</a></li>
		
			<li><a href="/2014/10/26/Management/Classified-Philosophy/">分類哲學</a></li>
		

		<h4>著作</h4>
		
			<li><a target="_blank" rel="noopener" href="https://www.tenlong.com.tw/products/9786264142335">共同著作：軟體品質全面思維 (2025)</a></li>
		
			<li><a href="/2023/07/17/About/2023-SRE-Practice-and-IDP/">個人著作：SRE實踐與開發平台指南</a></li>
		
			<li><a href="/2023/05/23/About/2023-Software-Test-Practice/">共同著作：軟體測試實務 (2023)</a></li>
		
			<li><a href="/2019/05/17/About/DDS-zh_TW/">譯著：分散式系統設計 (2019)</a></li>
		

		<h4>演講</h4>
		
			<li><a target="_blank" rel="noopener" href="https://www.youtube.com/playlist?list=PL63J1r2PBvoiKFC40HTdSrGSQVBqOutOf">演講錄影 @ Youtube</a></li>
		
			<li><a href="/2023/09/09/About/2023-AWS-Career-Exploration-Day/">探索職涯、複利人生 - AWS Career Exploration Day 2023</a></li>
		
			<li><a href="/2023/07/17/About/2023-SRE-Practice-and-IDP/">個人著作 SRE 書友見面會</a></li>
		
			<li><a href="/2023/05/23/About/2023-Software-Test-Practice/">軟體測試實務 - 新書發表會</a></li>
		
			<li><a href="/2022/12/21/About/2022-AWS-Career-Exploration-Day/">探索職涯、成就未來 - AWS Career Exploration Day 2022</a></li>
		
			<li><a href="/2022/08/13/SQA/Path-to-Software-Testing/">從理想、到現實的距離，開啟品味軟體測試之路</a></li>
		
			<li><a href="/2022/05/10/About/2022-SREConf2022/">91APP 在 AWS 上的 SRE 實踐之路</a></li>
		
			<li><a target="_blank" rel="noopener" href="https://www.slideshare.net/rickhwang/2020-aws-summit-aws">在矩陣型組織裡，如何有效管理 AWS 的成本結構與系統架構</a></li>
		
			<li><a target="_blank" rel="noopener" href="https://www.slideshare.net/rickhwang/aws-using-aws-for-disaster-recovery/">災難演練 @ AWS 實戰分享</a></li>
		
			<li><a href="/2019/04/27/DevOps/Introduce-to-Continuous-Delivery-2/">導讀持續交付 2.0 - 談當代軟體交付之虛實融合</a></li>
		
			<li><a href="/2019/03/28/DevOps/DevOpsTaiwan-Meetup-Beginning-in-Artifacts-Management/">聊聊軟體交付的濫觴 談產出物管理</a></li>
		
			<li><a href="/2018/09/12/DevOps/DevOpsDaysTaipei2018-Emergency-And-Incident-Management/">從緊急事件 談 SRE 應變能力的培養</a></li>
		
			<li><a href="/2018/07/18/About/20180718-API-Gateway/">邁向 API 經濟 - API Gateway 導入之旅</a></li>
		
			<li><a href="/2018/05/26/About/201805-Monitoring-Tools-CloudWatch/">Monitoring Tools 大亂鬥 - AWS CloudWatch</a></li>
		
			<li><a href="/2018/03/29/About/2018-Serverless-All-Star/">Ops as Code using Serverless</a></li>
		
			<li><a href="/2017/06/21/AWS/Stategies-System-Monitor_and_CloudWatch/">淺談系統監控與 CloudWatch 的應用</a></li>
		

		<!-- v3 -->
		<!--
		<li><a href="/2018/07/08/Index/">部落格索引</a></li>
		<li><a href="/2017/12/29/About/About-This-Blog/">關於這個部落格</a></li>
		<li><a href="/2017/12/29/About/About-Author/">關於作者</a></li>
		<li><a href="/2017/09/20/About/Learning-Approaches/">學習法則</a></li>
		<li><a href="/2014/12/27/Management/經營之道/">經營之道</a></li>
		<li><a href="/2017/12/02/About/Epiphany/">一些領悟</a></li>
		-->

		<!-- v2 -->
		<!-- <a href="/2017/07/01/Management/Developer-or-Engineer/">軟體開發者 (Software Developer)</a>、<a target="_blank" rel="noopener" href="http://rickmidi.blogspot.com/">音樂愛好者</a>，工作角色經歷 DevOps 三個圈圈職務: Dev / <a href="/categories/軟體測試/">QA</a> / <a href="/categories/DevOps/">Ops</a>。這幾年專注在經營管理、<a href="/2016/10/01/AWS-Study-Roadmap/">AWS</a> / GCP、分散式架構、<a href="/categories/DevOps/">維運、DevOps / SRE</a> 等領域，並活躍於各大社群的活動、演講，著有技術部落格：<a href="https://rickhw.github.io/">Complete Think</a>。工作之外也是業餘音樂愛好者，專注在 吉他、鍵盤、編曲、教學，著有音樂部落格：<a target="_blank" rel="noopener" href="https://rickmidi.blogspot.com/">喝咖啡聊音樂</a>。 -->

		<!-- v1 -->
		<!--
		<li>Software Developer</li>
		<li><a href="/categories/軟體測試/">SQA Manager</a></li>
		<li><a href="/categories/DevOps/">Operation Manager</a></li>
		<li><a target="_blank" rel="noopener" href="http://rickmidi.blogspot.com/">Musician and Guitarist</a></li>
		<li>
			<ol>
				<li>Management</li>
				<li>Cloud / Distributed Systems</li>
				<li>DevOps / SRE / </li>
			</ol>
		</li>
		-->

		<!--
		<h4>Donate</h4>
		<form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
		<input type="hidden" name="cmd" value="_s-xclick" />
		<input type="hidden" name="hosted_button_id" value="UUMSV7TXWT2AJ" />
		<input type="image" src="https://www.paypalobjects.com/en_US/TW/i/btn/btn_donateCC_LG.gif" border="0" name="submit" title="PayPal - The safer, easier way to pay online!" alt="Donate with PayPal button" />
		<img alt="" border="0" src="https://www.paypal.com/en_TW/i/scr/pixel.gif" width="1" height="1" />
		</form>
		-->

		<h4>Facebook</h4>

		<div class="fb-page" data-href="https://www.facebook.com/completethink/" data-tabs="timeline" data-small-header="false" data-adapt-container-width="true" data-hide-cover="false" data-show-facepile="true"><blockquote cite="https://www.facebook.com/completethink/" class="fb-xfbml-parse-ignore"><a target="_blank" rel="noopener" href="https://www.facebook.com/completethink/">Complete Think</a></blockquote></div>

		<a target="_blank" rel="noopener" href="https://aws.amazon.com/developer/community/heroes/rick-hwang/"><img
				src="/images/About/AWS-Hero/community-heroes_logo.png"></a>

		<h4>AWS Certifications</h4>
		<a href="/2016/04/22/AWS/AWS-Certified-Solutions-Architect_Associate/"><img src="/images/About/Solutions_Architect-Associate.jpg"></a>
		<a href="/2016/07/29/AWS/AWS-Certified-SysOps-Administrator/"><img src="/images/About/SysOps-Administrator-Associate.png"></a>
		<a href="/2016/08/20/AWS/AWS-Certified-Developer/"><img src="/images/About/Developer-Associate.png"></a>
	</div>

	<hr />
</div><!-- col-md-3 -->

		

	</div><!-- row -->


    </div>
  </div>


<div class="container-narrow">
    <footer> <p>
  &copy; 2015-2022 Rick Hwang
  
      with help from <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="http://getbootstrap.com/" target="_blank">Twitter Bootstrap</a>. Theme base on <a target="_blank" rel="noopener" href="http://github.com/wzpan/hexo-theme-freemind/">Freemind</a>.
</p> </footer>
</div>

<!-- container-narrow -->

<div id="gotop">

  <!-- 
    <i class="fa fa-sitemap"></i> <a href="/2017/12/29/About/About-This-Blog/" title="About this blog" target="_blank"]);">關於這裡</a><br />
  
    <i class="fa fa-user"></i> <a href="/2017/12/29/About/About-Author/" title="" target="_blank"]);">關於作者</a><br />
  
    <i class="fa fa-book"></i> <a href="/2017/09/20/About/Learning-Approaches/" title="" target="_blank"]);">學習法則</a><br />
  
    <i class="fa fa-coffee"></i> <a href="https://www.gtcafe.com" title="GTCafe Studio" target="_blank"]);">GTCafe Studio</a><br />
  
    <i class="fa fa-music"></i> <a href="https://www.gtcafe.com/rickmidi/" title="喝咖啡 聊音樂 (v2021)" target="_blank"]);">喝咖啡 聊音樂 (v2021)</a><br />
   -->

  <!-- <h4>About</h4> -->

  
    <li><a href="/2035/01/21/Index/">全站索引</a></li>
  
    <li><a href="/2017/12/29/About/About-This-Blog/">關於這裏</a></li>
  
    <li><a href="/2017/12/29/About/About-Author/">關於作者</a></li>
  
    <li><a href="/2017/09/20/About/Learning-Approaches/">學習法則</a></li>
  
    <li><a href="/2017/11/26/Thinking-in-Essence/">思考本質</a></li>
  
    <li><a href="/2017/12/02/About/Epiphany/">一些領悟</a></li>
  
    <li><a href="/2014/10/26/Management/Classified-Philosophy/">分類哲學</a></li>
  

  <a href="#">▲ TOP ▲ </a>
</div>

<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/main.js"></script>
<script src="/js/gtcafe-tracking.js"></script>




<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>

<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);

// GTCafe API: completet
tracking_update();
</script>



</body>
</html>
